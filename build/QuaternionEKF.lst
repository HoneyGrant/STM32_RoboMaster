ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"QuaternionEKF.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.invSqrt,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	invSqrt:
  26              	.LVL0:
  27              	.LFB169:
  28              		.file 1 "modules/algorithm/QuaternionEKF.c"
   1:modules/algorithm/QuaternionEKF.c **** /**
   2:modules/algorithm/QuaternionEKF.c ****  ******************************************************************************
   3:modules/algorithm/QuaternionEKF.c ****  * @file    QuaternionEKF.c
   4:modules/algorithm/QuaternionEKF.c ****  * @author  Wang Hongxi
   5:modules/algorithm/QuaternionEKF.c ****  * @version V1.2.0
   6:modules/algorithm/QuaternionEKF.c ****  * @date    2022/3/8
   7:modules/algorithm/QuaternionEKF.c ****  * @brief   attitude update with gyro bias estimate and chi-square test
   8:modules/algorithm/QuaternionEKF.c ****  ******************************************************************************
   9:modules/algorithm/QuaternionEKF.c ****  * @attention
  10:modules/algorithm/QuaternionEKF.c ****  * 1st order LPF transfer function:
  11:modules/algorithm/QuaternionEKF.c ****  *     1
  12:modules/algorithm/QuaternionEKF.c ****  *  ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
  13:modules/algorithm/QuaternionEKF.c ****  *  as + 1
  14:modules/algorithm/QuaternionEKF.c ****  * 
  15:modules/algorithm/QuaternionEKF.c ****  ******************************************************************************
  16:modules/algorithm/QuaternionEKF.c ****  */
  17:modules/algorithm/QuaternionEKF.c **** #include "QuaternionEKF.h"
  18:modules/algorithm/QuaternionEKF.c **** 
  19:modules/algorithm/QuaternionEKF.c **** QEKF_INS_t QEKF_INS;
  20:modules/algorithm/QuaternionEKF.c **** 
  21:modules/algorithm/QuaternionEKF.c **** const float IMU_QuaternionEKF_F[36] = {1, 0, 0, 0, 0, 0,
  22:modules/algorithm/QuaternionEKF.c ****                                        0, 1, 0, 0, 0, 0,
  23:modules/algorithm/QuaternionEKF.c ****                                        0, 0, 1, 0, 0, 0,
  24:modules/algorithm/QuaternionEKF.c ****                                        0, 0, 0, 1, 0, 0,
  25:modules/algorithm/QuaternionEKF.c ****                                        0, 0, 0, 0, 1, 0,
  26:modules/algorithm/QuaternionEKF.c ****                                        0, 0, 0, 0, 0, 1};
  27:modules/algorithm/QuaternionEKF.c **** float IMU_QuaternionEKF_P[36] = {100000, 0.1, 0.1, 0.1, 0.1, 0.1,
  28:modules/algorithm/QuaternionEKF.c ****                                  0.1, 100000, 0.1, 0.1, 0.1, 0.1,
  29:modules/algorithm/QuaternionEKF.c ****                                  0.1, 0.1, 100000, 0.1, 0.1, 0.1,
  30:modules/algorithm/QuaternionEKF.c ****                                  0.1, 0.1, 0.1, 100000, 0.1, 0.1,
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 2


  31:modules/algorithm/QuaternionEKF.c ****                                  0.1, 0.1, 0.1, 0.1, 100, 0.1,
  32:modules/algorithm/QuaternionEKF.c ****                                  0.1, 0.1, 0.1, 0.1, 0.1, 100};
  33:modules/algorithm/QuaternionEKF.c **** float IMU_QuaternionEKF_K[18];
  34:modules/algorithm/QuaternionEKF.c **** float IMU_QuaternionEKF_H[18];
  35:modules/algorithm/QuaternionEKF.c **** 
  36:modules/algorithm/QuaternionEKF.c **** static float invSqrt(float x);
  37:modules/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_Observe(KalmanFilter_t *kf);
  38:modules/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_F_Linearization_P_Fading(KalmanFilter_t *kf);
  39:modules/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_SetH(KalmanFilter_t *kf);
  40:modules/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_xhatUpdate(KalmanFilter_t *kf);
  41:modules/algorithm/QuaternionEKF.c **** 
  42:modules/algorithm/QuaternionEKF.c **** /**
  43:modules/algorithm/QuaternionEKF.c ****  * @brief Quaternion EKF initialization and some reference value
  44:modules/algorithm/QuaternionEKF.c ****  * @param[in] process_noise1 quaternion process noise    10
  45:modules/algorithm/QuaternionEKF.c ****  * @param[in] process_noise2 gyro bias process noise     0.001
  46:modules/algorithm/QuaternionEKF.c ****  * @param[in] measure_noise  accel measure noise         1000000
  47:modules/algorithm/QuaternionEKF.c ****  * @param[in] lambda         fading coefficient          0.9996
  48:modules/algorithm/QuaternionEKF.c ****  * @param[in] lpf            lowpass filter coefficient  0
  49:modules/algorithm/QuaternionEKF.c ****  */
  50:modules/algorithm/QuaternionEKF.c **** void IMU_QuaternionEKF_Init(float* init_quaternion,float process_noise1, float process_noise2, floa
  51:modules/algorithm/QuaternionEKF.c **** {
  52:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Initialized = 1;
  53:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Q1 = process_noise1;
  54:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Q2 = process_noise2;
  55:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.R = measure_noise;
  56:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.ChiSquareTestThreshold = 1e-8;
  57:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.ConvergeFlag = 0;
  58:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.ErrorCount = 0;
  59:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount = 0;
  60:modules/algorithm/QuaternionEKF.c ****     if (lambda > 1)
  61:modules/algorithm/QuaternionEKF.c ****     {
  62:modules/algorithm/QuaternionEKF.c ****         lambda = 1;
  63:modules/algorithm/QuaternionEKF.c ****     }
  64:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.lambda = lambda;
  65:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.accLPFcoef = lpf;
  66:modules/algorithm/QuaternionEKF.c **** 
  67:modules/algorithm/QuaternionEKF.c ****     // ÂàùÂßãÂåñÁü©ÈòµÁª¥Â∫¶‰ø°ÊÅØ
  68:modules/algorithm/QuaternionEKF.c ****     Kalman_Filter_Init(&QEKF_INS.IMU_QuaternionEKF, 6, 0, 3);
  69:modules/algorithm/QuaternionEKF.c ****     Matrix_Init(&QEKF_INS.ChiSquare, 1, 1, (float *)QEKF_INS.ChiSquare_Data);
  70:modules/algorithm/QuaternionEKF.c **** 
  71:modules/algorithm/QuaternionEKF.c ****     // ÂßøÊÄÅÂàùÂßãÂåñ
  72:modules/algorithm/QuaternionEKF.c ****     for(int i = 0; i < 4; i++)
  73:modules/algorithm/QuaternionEKF.c ****     {
  74:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.IMU_QuaternionEKF.xhat_data[i] = init_quaternion[i];
  75:modules/algorithm/QuaternionEKF.c ****     }
  76:modules/algorithm/QuaternionEKF.c **** 
  77:modules/algorithm/QuaternionEKF.c ****     // Ëá™ÂÆö‰πâÂáΩÊï∞ÂàùÂßãÂåñ,Áî®‰∫éÊâ©Â±ïÊàñÂ¢ûÂä†kfÁöÑÂü∫Á°ÄÂäüËÉΩ
  78:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func0_f = IMU_QuaternionEKF_Observe;
  79:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func1_f = IMU_QuaternionEKF_F_Linearization_P_Fading;
  80:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func2_f = IMU_QuaternionEKF_SetH;
  81:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func3_f = IMU_QuaternionEKF_xhatUpdate;
  82:modules/algorithm/QuaternionEKF.c **** 
  83:modules/algorithm/QuaternionEKF.c ****     // ËÆæÂÆöÊ†áÂøó‰Ωç,Áî®Ëá™ÂÆöÂáΩÊï∞ÊõøÊç¢kfÊ†áÂáÜÊ≠•È™§‰∏≠ÁöÑSetK(ËÆ°ÁÆóÂ¢ûÁõä)‰ª•Âèäxhatupdate(
  84:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.SkipEq3 = TRUE;
  85:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.SkipEq4 = TRUE;
  86:modules/algorithm/QuaternionEKF.c **** 
  87:modules/algorithm/QuaternionEKF.c ****     memcpy(QEKF_INS.IMU_QuaternionEKF.F_data, IMU_QuaternionEKF_F, sizeof(IMU_QuaternionEKF_F));
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 3


  88:modules/algorithm/QuaternionEKF.c ****     memcpy(QEKF_INS.IMU_QuaternionEKF.P_data, IMU_QuaternionEKF_P, sizeof(IMU_QuaternionEKF_P));
  89:modules/algorithm/QuaternionEKF.c **** }
  90:modules/algorithm/QuaternionEKF.c **** 
  91:modules/algorithm/QuaternionEKF.c **** /**
  92:modules/algorithm/QuaternionEKF.c ****  * @brief Quaternion EKF update
  93:modules/algorithm/QuaternionEKF.c ****  * @param[in]       gyro x y z in rad/s
  94:modules/algorithm/QuaternionEKF.c ****  * @param[in]       accel x y z in m/s¬≤
  95:modules/algorithm/QuaternionEKF.c ****  * @param[in]       update period in s
  96:modules/algorithm/QuaternionEKF.c ****  */
  97:modules/algorithm/QuaternionEKF.c **** void IMU_QuaternionEKF_Update(float gx, float gy, float gz, float ax, float ay, float az, float dt)
  98:modules/algorithm/QuaternionEKF.c **** {
  99:modules/algorithm/QuaternionEKF.c ****     // 0.5(Ohm-Ohm^bias)*deltaT,Áî®‰∫éÊõ¥Êñ∞Â∑•‰ΩúÁÇπÂ§ÑÁöÑÁä∂ÊÄÅËΩ¨ÁßªFÁü©Èòµ
 100:modules/algorithm/QuaternionEKF.c ****     static float halfgxdt, halfgydt, halfgzdt;
 101:modules/algorithm/QuaternionEKF.c ****     static float accelInvNorm;
 102:modules/algorithm/QuaternionEKF.c **** 
 103:modules/algorithm/QuaternionEKF.c ****     /*   F, number with * represent vals to be set
 104:modules/algorithm/QuaternionEKF.c ****      0      1*     2*     3*     4     5
 105:modules/algorithm/QuaternionEKF.c ****      6*     7      8*     9*    10    11
 106:modules/algorithm/QuaternionEKF.c ****     12*    13*    14     15*    16    17
 107:modules/algorithm/QuaternionEKF.c ****     18*    19*    20*    21     22    23
 108:modules/algorithm/QuaternionEKF.c ****     24     25     26     27     28    29
 109:modules/algorithm/QuaternionEKF.c ****     30     31     32     33     34    35
 110:modules/algorithm/QuaternionEKF.c ****     */
 111:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.dt = dt;
 112:modules/algorithm/QuaternionEKF.c **** 
 113:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[0] = gx - QEKF_INS.GyroBias[0];
 114:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[1] = gy - QEKF_INS.GyroBias[1];
 115:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[2] = gz - QEKF_INS.GyroBias[2];
 116:modules/algorithm/QuaternionEKF.c **** 
 117:modules/algorithm/QuaternionEKF.c ****     // set F
 118:modules/algorithm/QuaternionEKF.c ****     halfgxdt = 0.5f * QEKF_INS.Gyro[0] * dt;
 119:modules/algorithm/QuaternionEKF.c ****     halfgydt = 0.5f * QEKF_INS.Gyro[1] * dt;
 120:modules/algorithm/QuaternionEKF.c ****     halfgzdt = 0.5f * QEKF_INS.Gyro[2] * dt;
 121:modules/algorithm/QuaternionEKF.c **** 
 122:modules/algorithm/QuaternionEKF.c ****     // Ê≠§ÈÉ®ÂàÜËÆæÂÆöÁä∂ÊÄÅËΩ¨ÁßªÁü©ÈòµFÁöÑÂ∑¶‰∏äËßíÈÉ®ÂàÜ 4x4Â≠êÁü©Èòµ,Âç≥0.5(Ohm-Ohm^bias)*delta
 123:modules/algorithm/QuaternionEKF.c ****     // Ê≥®ÊÑèÂú®predictÊ≠•FÁöÑÂè≥‰∏äËßíÊòØ4x2ÁöÑÈõ∂Áü©Èòµ,Âõ†Ê≠§ÊØèÊ¨°predictÁöÑÊó∂ÂÄôÈÉΩ‰ºöË∞ÉÁî®m
 124:modules/algorithm/QuaternionEKF.c ****     memcpy(QEKF_INS.IMU_QuaternionEKF.F_data, IMU_QuaternionEKF_F, sizeof(IMU_QuaternionEKF_F));
 125:modules/algorithm/QuaternionEKF.c **** 
 126:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[1] = -halfgxdt;
 127:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[2] = -halfgydt;
 128:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[3] = -halfgzdt;
 129:modules/algorithm/QuaternionEKF.c **** 
 130:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[6] = halfgxdt;
 131:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[8] = halfgzdt;
 132:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[9] = -halfgydt;
 133:modules/algorithm/QuaternionEKF.c **** 
 134:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[12] = halfgydt;
 135:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[13] = -halfgzdt;
 136:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[15] = halfgxdt;
 137:modules/algorithm/QuaternionEKF.c **** 
 138:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[18] = halfgzdt;
 139:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[19] = halfgydt;
 140:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[20] = -halfgxdt;
 141:modules/algorithm/QuaternionEKF.c **** 
 142:modules/algorithm/QuaternionEKF.c ****     // accel low pass filter,Âä†ÈÄüÂ∫¶Ëøá‰∏Ä‰∏ã‰ΩéÈÄöÊª§Ê≥¢Âπ≥ÊªëÊï∞ÊçÆ,Èôç‰ΩéÊíûÂáªÂíåÂºÇÂ∏∏ÁöÑÂΩ±
 143:modules/algorithm/QuaternionEKF.c ****     if (QEKF_INS.UpdateCount == 0) // Â¶ÇÊûúÊòØÁ¨¨‰∏ÄÊ¨°ËøõÂÖ•,ÈúÄË¶ÅÂàùÂßãÂåñ‰ΩéÈÄöÊª§Ê≥¢
 144:modules/algorithm/QuaternionEKF.c ****     {
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 4


 145:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[0] = ax;
 146:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[1] = ay;
 147:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[2] = az;
 148:modules/algorithm/QuaternionEKF.c ****     }
 149:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[0] = QEKF_INS.Accel[0] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 150:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 151:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 152:modules/algorithm/QuaternionEKF.c **** 
 153:modules/algorithm/QuaternionEKF.c ****     // set z,Âçï‰ΩçÂåñÈáçÂäõÂä†ÈÄüÂ∫¶ÂêëÈáè
 154:modules/algorithm/QuaternionEKF.c ****     accelInvNorm = invSqrt(QEKF_INS.Accel[0] * QEKF_INS.Accel[0] + QEKF_INS.Accel[1] * QEKF_INS.Acc
 155:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 156:modules/algorithm/QuaternionEKF.c ****     {
 157:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.IMU_QuaternionEKF.MeasuredVector[i] = QEKF_INS.Accel[i] * accelInvNorm; // Áî®Âä†È
 158:modules/algorithm/QuaternionEKF.c ****     }
 159:modules/algorithm/QuaternionEKF.c **** 
 160:modules/algorithm/QuaternionEKF.c ****     // get body state
 161:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.gyro_norm = 1.0f / invSqrt(QEKF_INS.Gyro[0] * QEKF_INS.Gyro[0] +
 162:modules/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 163:modules/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[2] * QEKF_INS.Gyro[2]);
 164:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.accl_norm = 1.0f / accelInvNorm;
 165:modules/algorithm/QuaternionEKF.c **** 
 166:modules/algorithm/QuaternionEKF.c ****     // Â¶ÇÊûúËßíÈÄüÂ∫¶Â∞è‰∫éÈòàÂÄº‰∏îÂä†ÈÄüÂ∫¶Â§Ñ‰∫éËÆæÂÆöËåÉÂõ¥ÂÜÖ,ËÆ§‰∏∫ËøêÂä®Á®≥ÂÆö,Âä†ÈÄüÂ∫¶ÂèØ
 167:modules/algorithm/QuaternionEKF.c ****     // Á®çÂêéÂú®ÊúÄÂêéÁöÑÂßøÊÄÅÊõ¥Êñ∞ÈÉ®ÂàÜ‰ºöÂà©Áî®StableFlagÊù•Á°ÆÂÆö
 168:modules/algorithm/QuaternionEKF.c ****     if (QEKF_INS.gyro_norm < 0.3f && QEKF_INS.accl_norm > 9.8f - 0.5f && QEKF_INS.accl_norm < 9.8f 
 169:modules/algorithm/QuaternionEKF.c ****     {
 170:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.StableFlag = 1;
 171:modules/algorithm/QuaternionEKF.c ****     }
 172:modules/algorithm/QuaternionEKF.c ****     else
 173:modules/algorithm/QuaternionEKF.c ****     {
 174:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.StableFlag = 0;
 175:modules/algorithm/QuaternionEKF.c ****     }
 176:modules/algorithm/QuaternionEKF.c **** 
 177:modules/algorithm/QuaternionEKF.c ****     // set Q R,ËøáÁ®ãÂô™Â£∞ÂíåËßÇÊµãÂô™Â£∞Áü©Èòµ
 178:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[0] = QEKF_INS.Q1 * QEKF_INS.dt;
 179:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
 180:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 181:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 182:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
 183:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
 184:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 185:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[4] = QEKF_INS.R;
 186:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[8] = QEKF_INS.R;
 187:modules/algorithm/QuaternionEKF.c **** 
 188:modules/algorithm/QuaternionEKF.c ****     // Ë∞ÉÁî®kalman_filter.cÂ∞ÅË£ÖÂ•ΩÁöÑÂáΩÊï∞,Ê≥®ÊÑèÂá†‰∏™User_Funcx_fÁöÑË∞ÉÁî®
 189:modules/algorithm/QuaternionEKF.c ****     Kalman_Filter_Update(&QEKF_INS.IMU_QuaternionEKF);
 190:modules/algorithm/QuaternionEKF.c **** 
 191:modules/algorithm/QuaternionEKF.c ****     // Ëé∑ÂèñËûçÂêàÂêéÁöÑÊï∞ÊçÆ,ÂåÖÊã¨ÂõõÂÖÉÊï∞ÂíåxyÈõ∂È£òÂÄº
 192:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.q[0] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[0];
 193:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.q[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[1];
 194:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.q[2] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[2];
 195:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.q[3] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[3];
 196:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[0] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[4];
 197:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[5];
 198:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[2] = 0; // Â§ßÈÉ®ÂàÜÊó∂ÂÄôzËΩ¥ÈÄöÂ§©,Êó†Ê≥ïËßÇÊµãyawÁöÑÊºÇÁßª
 199:modules/algorithm/QuaternionEKF.c **** 
 200:modules/algorithm/QuaternionEKF.c ****     // Âà©Áî®ÂõõÂÖÉÊï∞ÂèçËß£Ê¨ßÊãâËßí
 201:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Yaw = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[3] + QEKF_INS.q[1] * QEKF_INS.q[2]), 2
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 5


 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 203:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 204:modules/algorithm/QuaternionEKF.c **** 
 205:modules/algorithm/QuaternionEKF.c ****     // get Yaw total, yawÊï∞ÊçÆÂèØËÉΩ‰ºöË∂ÖËøá360,Â§ÑÁêÜ‰∏Ä‰∏ãÊñπ‰æøÂÖ∂‰ªñÂäüËÉΩ‰ΩøÁî®(Â¶ÇÂ∞èÈôÄËû∫
 206:modules/algorithm/QuaternionEKF.c ****     if (QEKF_INS.Yaw - QEKF_INS.YawAngleLast > 180.0f)
 207:modules/algorithm/QuaternionEKF.c ****     {
 208:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.YawRoundCount--;
 209:modules/algorithm/QuaternionEKF.c ****     }
 210:modules/algorithm/QuaternionEKF.c ****     else if (QEKF_INS.Yaw - QEKF_INS.YawAngleLast < -180.0f)
 211:modules/algorithm/QuaternionEKF.c ****     {
 212:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.YawRoundCount++;
 213:modules/algorithm/QuaternionEKF.c ****     }
 214:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.YawTotalAngle = 360.0f * QEKF_INS.YawRoundCount + QEKF_INS.Yaw;
 215:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.YawAngleLast = QEKF_INS.Yaw;
 216:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount++; // ÂàùÂßãÂåñ‰ΩéÈÄöÊª§Ê≥¢Áî®,ËÆ°Êï∞ÊµãËØïÁî®
 217:modules/algorithm/QuaternionEKF.c **** }
 218:modules/algorithm/QuaternionEKF.c **** 
 219:modules/algorithm/QuaternionEKF.c **** /**
 220:modules/algorithm/QuaternionEKF.c ****  * @brief Áî®‰∫éÊõ¥Êñ∞Á∫øÊÄßÂåñÂêéÁöÑÁä∂ÊÄÅËΩ¨ÁßªÁü©ÈòµFÂè≥‰∏äËßíÁöÑ‰∏Ä‰∏™4x2ÂàÜÂùóÁü©Èòµ,Á®çÂêéÁî®
 221:modules/algorithm/QuaternionEKF.c ****  *        Âπ∂ÂØπÈõ∂ÊºÇÁöÑÊñπÂ∑ÆËøõË°åÈôêÂà∂,Èò≤Ê≠¢ËøáÂ∫¶Êî∂ÊïõÂπ∂ÈôêÂπÖÈò≤Ê≠¢ÂèëÊï£
 222:modules/algorithm/QuaternionEKF.c ****  *
 223:modules/algorithm/QuaternionEKF.c ****  * @param kf
 224:modules/algorithm/QuaternionEKF.c ****  */
 225:modules/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_F_Linearization_P_Fading(KalmanFilter_t *kf)
 226:modules/algorithm/QuaternionEKF.c **** {
 227:modules/algorithm/QuaternionEKF.c ****     static float q0, q1, q2, q3;
 228:modules/algorithm/QuaternionEKF.c ****     static float qInvNorm;
 229:modules/algorithm/QuaternionEKF.c **** 
 230:modules/algorithm/QuaternionEKF.c ****     q0 = kf->xhatminus_data[0];
 231:modules/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 232:modules/algorithm/QuaternionEKF.c ****     q2 = kf->xhatminus_data[2];
 233:modules/algorithm/QuaternionEKF.c ****     q3 = kf->xhatminus_data[3];
 234:modules/algorithm/QuaternionEKF.c **** 
 235:modules/algorithm/QuaternionEKF.c ****     // quaternion normalize
 236:modules/algorithm/QuaternionEKF.c ****     qInvNorm = invSqrt(q0 * q0 + q1 * q1 + q2 * q2 + q3 * q3);
 237:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 238:modules/algorithm/QuaternionEKF.c ****     {
 239:modules/algorithm/QuaternionEKF.c ****         kf->xhatminus_data[i] *= qInvNorm;
 240:modules/algorithm/QuaternionEKF.c ****     }
 241:modules/algorithm/QuaternionEKF.c ****     /*  F, number with * represent vals to be set
 242:modules/algorithm/QuaternionEKF.c ****      0     1     2     3     4*     5*
 243:modules/algorithm/QuaternionEKF.c ****      6     7     8     9    10*    11*
 244:modules/algorithm/QuaternionEKF.c ****     12    13    14    15    16*    17*
 245:modules/algorithm/QuaternionEKF.c ****     18    19    20    21    22*    23*
 246:modules/algorithm/QuaternionEKF.c ****     24    25    26    27    28     29
 247:modules/algorithm/QuaternionEKF.c ****     30    31    32    33    34     35
 248:modules/algorithm/QuaternionEKF.c ****     */
 249:modules/algorithm/QuaternionEKF.c ****     // set F
 250:modules/algorithm/QuaternionEKF.c ****     kf->F_data[4] = q1 * QEKF_INS.dt / 2;
 251:modules/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 252:modules/algorithm/QuaternionEKF.c **** 
 253:modules/algorithm/QuaternionEKF.c ****     kf->F_data[10] = -q0 * QEKF_INS.dt / 2;
 254:modules/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 255:modules/algorithm/QuaternionEKF.c **** 
 256:modules/algorithm/QuaternionEKF.c ****     kf->F_data[16] = -q3 * QEKF_INS.dt / 2;
 257:modules/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 258:modules/algorithm/QuaternionEKF.c **** 
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 6


 259:modules/algorithm/QuaternionEKF.c ****     kf->F_data[22] = q2 * QEKF_INS.dt / 2;
 260:modules/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 261:modules/algorithm/QuaternionEKF.c **** 
 262:modules/algorithm/QuaternionEKF.c ****     // fading filter,Èò≤Ê≠¢Èõ∂È£òÂèÇÊï∞ËøáÂ∫¶Êî∂Êïõ
 263:modules/algorithm/QuaternionEKF.c ****     kf->P_data[28] /= QEKF_INS.lambda;
 264:modules/algorithm/QuaternionEKF.c ****     kf->P_data[35] /= QEKF_INS.lambda;
 265:modules/algorithm/QuaternionEKF.c **** 
 266:modules/algorithm/QuaternionEKF.c ****     // ÈôêÂπÖ,Èò≤Ê≠¢ÂèëÊï£
 267:modules/algorithm/QuaternionEKF.c ****     if (kf->P_data[28] > 10000)
 268:modules/algorithm/QuaternionEKF.c ****     {
 269:modules/algorithm/QuaternionEKF.c ****         kf->P_data[28] = 10000;
 270:modules/algorithm/QuaternionEKF.c ****     }
 271:modules/algorithm/QuaternionEKF.c ****     if (kf->P_data[35] > 10000)
 272:modules/algorithm/QuaternionEKF.c ****     {
 273:modules/algorithm/QuaternionEKF.c ****         kf->P_data[35] = 10000;
 274:modules/algorithm/QuaternionEKF.c ****     }
 275:modules/algorithm/QuaternionEKF.c **** }
 276:modules/algorithm/QuaternionEKF.c **** 
 277:modules/algorithm/QuaternionEKF.c **** /**
 278:modules/algorithm/QuaternionEKF.c ****  * @brief Âú®Â∑•‰ΩúÁÇπÂ§ÑËÆ°ÁÆóËßÇÊµãÂáΩÊï∞h(x)ÁöÑJacobiÁü©ÈòµH
 279:modules/algorithm/QuaternionEKF.c ****  *
 280:modules/algorithm/QuaternionEKF.c ****  * @param kf
 281:modules/algorithm/QuaternionEKF.c ****  */
 282:modules/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_SetH(KalmanFilter_t *kf)
 283:modules/algorithm/QuaternionEKF.c **** {
 284:modules/algorithm/QuaternionEKF.c ****     static float doubleq0, doubleq1, doubleq2, doubleq3;
 285:modules/algorithm/QuaternionEKF.c ****     /* H
 286:modules/algorithm/QuaternionEKF.c ****      0     1     2     3     4     5
 287:modules/algorithm/QuaternionEKF.c ****      6     7     8     9    10    11
 288:modules/algorithm/QuaternionEKF.c ****     12    13    14    15    16    17
 289:modules/algorithm/QuaternionEKF.c ****     last two cols are zero
 290:modules/algorithm/QuaternionEKF.c ****     */
 291:modules/algorithm/QuaternionEKF.c ****     // set H
 292:modules/algorithm/QuaternionEKF.c ****     doubleq0 = 2 * kf->xhatminus_data[0];
 293:modules/algorithm/QuaternionEKF.c ****     doubleq1 = 2 * kf->xhatminus_data[1];
 294:modules/algorithm/QuaternionEKF.c ****     doubleq2 = 2 * kf->xhatminus_data[2];
 295:modules/algorithm/QuaternionEKF.c ****     doubleq3 = 2 * kf->xhatminus_data[3];
 296:modules/algorithm/QuaternionEKF.c **** 
 297:modules/algorithm/QuaternionEKF.c ****     memset(kf->H_data, 0, sizeof_float * kf->zSize * kf->xhatSize);
 298:modules/algorithm/QuaternionEKF.c **** 
 299:modules/algorithm/QuaternionEKF.c ****     kf->H_data[0] = -doubleq2;
 300:modules/algorithm/QuaternionEKF.c ****     kf->H_data[1] = doubleq3;
 301:modules/algorithm/QuaternionEKF.c ****     kf->H_data[2] = -doubleq0;
 302:modules/algorithm/QuaternionEKF.c ****     kf->H_data[3] = doubleq1;
 303:modules/algorithm/QuaternionEKF.c **** 
 304:modules/algorithm/QuaternionEKF.c ****     kf->H_data[6] = doubleq1;
 305:modules/algorithm/QuaternionEKF.c ****     kf->H_data[7] = doubleq0;
 306:modules/algorithm/QuaternionEKF.c ****     kf->H_data[8] = doubleq3;
 307:modules/algorithm/QuaternionEKF.c ****     kf->H_data[9] = doubleq2;
 308:modules/algorithm/QuaternionEKF.c **** 
 309:modules/algorithm/QuaternionEKF.c ****     kf->H_data[12] = doubleq0;
 310:modules/algorithm/QuaternionEKF.c ****     kf->H_data[13] = -doubleq1;
 311:modules/algorithm/QuaternionEKF.c ****     kf->H_data[14] = -doubleq2;
 312:modules/algorithm/QuaternionEKF.c ****     kf->H_data[15] = doubleq3;
 313:modules/algorithm/QuaternionEKF.c **** }
 314:modules/algorithm/QuaternionEKF.c **** 
 315:modules/algorithm/QuaternionEKF.c **** /**
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 7


 316:modules/algorithm/QuaternionEKF.c ****  * @brief Âà©Áî®ËßÇÊµãÂÄºÂíåÂÖàÈ™å‰º∞ËÆ°ÂæóÂà∞ÊúÄ‰ºòÁöÑÂêéÈ™å‰º∞ËÆ°
 317:modules/algorithm/QuaternionEKF.c ****  *        Âä†ÂÖ•‰∫ÜÂç°ÊñπÊ£ÄÈ™å‰ª•Âà§Êñ≠ËûçÂêàÂä†ÈÄüÂ∫¶ÁöÑÊù°‰ª∂ÊòØÂê¶Êª°Ë∂≥
 318:modules/algorithm/QuaternionEKF.c ****  *        ÂêåÊó∂ÂºïÂÖ•ÂèëÊï£‰øùÊä§‰øùËØÅÊÅ∂Âä£Â∑•ÂÜµ‰∏ãÁöÑÂøÖË¶ÅÈáèÊµãÊõ¥Êñ∞
 319:modules/algorithm/QuaternionEKF.c ****  *
 320:modules/algorithm/QuaternionEKF.c ****  * @param kf
 321:modules/algorithm/QuaternionEKF.c ****  */
 322:modules/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_xhatUpdate(KalmanFilter_t *kf)
 323:modules/algorithm/QuaternionEKF.c **** {
 324:modules/algorithm/QuaternionEKF.c ****     static float q0, q1, q2, q3;
 325:modules/algorithm/QuaternionEKF.c **** 
 326:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Transpose(&kf->H, &kf->HT); // z|x => x|z
 327:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->H.numRows;
 328:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->Pminus.numCols;
 329:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->H, &kf->Pminus, &kf->temp_matrix); // temp_matrix = H¬∑P'(
 330:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numRows = kf->temp_matrix.numRows;
 331:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numCols = kf->HT.numCols;
 332:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->HT, &kf->temp_matrix1); // temp_matrix1 
 333:modules/algorithm/QuaternionEKF.c ****     kf->S.numRows = kf->R.numRows;
 334:modules/algorithm/QuaternionEKF.c ****     kf->S.numCols = kf->R.numCols;
 335:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->temp_matrix1, &kf->R, &kf->S); // S = H P'(k) HT + R
 336:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Inverse(&kf->S, &kf->temp_matrix1);     // temp_matrix1 = inv(H¬∑P'(k)¬∑
 337:modules/algorithm/QuaternionEKF.c **** 
 338:modules/algorithm/QuaternionEKF.c ****     q0 = kf->xhatminus_data[0];
 339:modules/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 340:modules/algorithm/QuaternionEKF.c ****     q2 = kf->xhatminus_data[2];
 341:modules/algorithm/QuaternionEKF.c ****     q3 = kf->xhatminus_data[3];
 342:modules/algorithm/QuaternionEKF.c **** 
 343:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numRows = kf->H.numRows;
 344:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 345:modules/algorithm/QuaternionEKF.c ****     // ËÆ°ÁÆóÈ¢ÑÊµãÂæóÂà∞ÁöÑÈáçÂäõÂä†ÈÄüÂ∫¶ÊñπÂêë(ÈÄöËøáÂßøÊÄÅËé∑ÂèñÁöÑ)
 346:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[0] = 2 * (q1 * q3 - q0 * q2);
 347:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 348:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 349:modules/algorithm/QuaternionEKF.c **** 
 350:modules/algorithm/QuaternionEKF.c ****     // ËÆ°ÁÆóÈ¢ÑÊµãÂÄºÂíåÂêÑ‰∏™ËΩ¥ÁöÑÊñπÂêë‰ΩôÂº¶
 351:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 352:modules/algorithm/QuaternionEKF.c ****     {
 353:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.OrientationCosine[i] = acosf(fabsf(kf->temp_vector_data[i]));
 354:modules/algorithm/QuaternionEKF.c ****     }
 355:modules/algorithm/QuaternionEKF.c **** 
 356:modules/algorithm/QuaternionEKF.c ****     // Âà©Áî®Âä†ÈÄüÂ∫¶ËÆ°Êï∞ÊçÆ‰øÆÊ≠£
 357:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector1.numRows = kf->z.numRows;
 358:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector1.numCols = 1;
 359:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Subtract(&kf->z, &kf->temp_vector, &kf->temp_vector1); // temp_vector1 =
 360:modules/algorithm/QuaternionEKF.c **** 
 361:modules/algorithm/QuaternionEKF.c ****     // chi-square test,Âç°ÊñπÊ£ÄÈ™å
 362:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->temp_vector1.numRows;
 363:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = 1;
 364:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix1, &kf->temp_vector1, &kf->temp_matrix); // tem
 365:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numRows = 1;
 366:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = kf->temp_vector1.numRows;
 367:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Transpose(&kf->temp_vector1, &kf->temp_vector); // temp_vector = z(k) - 
 368:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_vector, &kf->temp_matrix, &QEKF_INS.ChiSquare);
 369:modules/algorithm/QuaternionEKF.c ****     // rk is small,filter converged/converging
 370:modules/algorithm/QuaternionEKF.c ****     if (QEKF_INS.ChiSquare_Data[0] < 0.5f * QEKF_INS.ChiSquareTestThreshold)
 371:modules/algorithm/QuaternionEKF.c ****     {
 372:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.ConvergeFlag = 1;
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 8


 373:modules/algorithm/QuaternionEKF.c ****     }
 374:modules/algorithm/QuaternionEKF.c ****     // rk is bigger than thre but once converged
 375:modules/algorithm/QuaternionEKF.c ****     if (QEKF_INS.ChiSquare_Data[0] > QEKF_INS.ChiSquareTestThreshold && QEKF_INS.ConvergeFlag)
 376:modules/algorithm/QuaternionEKF.c ****     {
 377:modules/algorithm/QuaternionEKF.c ****         if (QEKF_INS.StableFlag)
 378:modules/algorithm/QuaternionEKF.c ****         {
 379:modules/algorithm/QuaternionEKF.c ****             QEKF_INS.ErrorCount++; // ËΩΩ‰ΩìÈùôÊ≠¢Êó∂‰ªçÊó†Ê≥ïÈÄöËøáÂç°ÊñπÊ£ÄÈ™å
 380:modules/algorithm/QuaternionEKF.c ****         }
 381:modules/algorithm/QuaternionEKF.c ****         else
 382:modules/algorithm/QuaternionEKF.c ****         {
 383:modules/algorithm/QuaternionEKF.c ****             QEKF_INS.ErrorCount = 0;
 384:modules/algorithm/QuaternionEKF.c ****         }
 385:modules/algorithm/QuaternionEKF.c **** 
 386:modules/algorithm/QuaternionEKF.c ****         if (QEKF_INS.ErrorCount > 50)
 387:modules/algorithm/QuaternionEKF.c ****         {
 388:modules/algorithm/QuaternionEKF.c ****             // Êª§Ê≥¢Âô®ÂèëÊï£
 389:modules/algorithm/QuaternionEKF.c ****             QEKF_INS.ConvergeFlag = 0;
 390:modules/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = FALSE; // step-5 is cov mat P updating
 391:modules/algorithm/QuaternionEKF.c ****         }
 392:modules/algorithm/QuaternionEKF.c ****         else
 393:modules/algorithm/QuaternionEKF.c ****         {
 394:modules/algorithm/QuaternionEKF.c ****             //  ÊÆãÂ∑ÆÊú™ÈÄöËøáÂç°ÊñπÊ£ÄÈ™å ‰ªÖÈ¢ÑÊµã
 395:modules/algorithm/QuaternionEKF.c ****             //  xhat(k) = xhat'(k)
 396:modules/algorithm/QuaternionEKF.c ****             //  P(k) = P'(k)
 397:modules/algorithm/QuaternionEKF.c ****             memcpy(kf->xhat_data, kf->xhatminus_data, sizeof_float * kf->xhatSize);
 398:modules/algorithm/QuaternionEKF.c ****             memcpy(kf->P_data, kf->Pminus_data, sizeof_float * kf->xhatSize * kf->xhatSize);
 399:modules/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = TRUE; // part5 is P updating
 400:modules/algorithm/QuaternionEKF.c ****             return;
 401:modules/algorithm/QuaternionEKF.c ****         }
 402:modules/algorithm/QuaternionEKF.c ****     }
 403:modules/algorithm/QuaternionEKF.c ****     else // if divergent or rk is not that big/acceptable,use adaptive gain
 404:modules/algorithm/QuaternionEKF.c ****     {
 405:modules/algorithm/QuaternionEKF.c ****         // scale adaptive,rkË∂äÂ∞èÂàôÂ¢ûÁõäË∂äÂ§ß,Âê¶ÂàôÊõ¥Áõ∏‰ø°È¢ÑÊµãÂÄº
 406:modules/algorithm/QuaternionEKF.c ****         if (QEKF_INS.ChiSquare_Data[0] > 0.1f * QEKF_INS.ChiSquareTestThreshold && QEKF_INS.Converg
 407:modules/algorithm/QuaternionEKF.c ****         {
 408:modules/algorithm/QuaternionEKF.c ****             QEKF_INS.AdaptiveGainScale = (QEKF_INS.ChiSquareTestThreshold - QEKF_INS.ChiSquare_Data
 409:modules/algorithm/QuaternionEKF.c ****         }
 410:modules/algorithm/QuaternionEKF.c ****         else
 411:modules/algorithm/QuaternionEKF.c ****         {
 412:modules/algorithm/QuaternionEKF.c ****             QEKF_INS.AdaptiveGainScale = 1;
 413:modules/algorithm/QuaternionEKF.c ****         }
 414:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.ErrorCount = 0;
 415:modules/algorithm/QuaternionEKF.c ****         kf->SkipEq5 = FALSE;
 416:modules/algorithm/QuaternionEKF.c ****     }
 417:modules/algorithm/QuaternionEKF.c **** 
 418:modules/algorithm/QuaternionEKF.c ****     // cal kf-gain K
 419:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->Pminus.numRows;
 420:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->HT.numCols;
 421:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->Pminus, &kf->HT, &kf->temp_matrix); // temp_matrix = P'(k)
 422:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->temp_matrix1, &kf->K);
 423:modules/algorithm/QuaternionEKF.c **** 
 424:modules/algorithm/QuaternionEKF.c ****     // implement adaptive
 425:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < kf->K.numRows * kf->K.numCols; ++i)
 426:modules/algorithm/QuaternionEKF.c ****     {
 427:modules/algorithm/QuaternionEKF.c ****         kf->K_data[i] *= QEKF_INS.AdaptiveGainScale;
 428:modules/algorithm/QuaternionEKF.c ****     }
 429:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 4; i < 6; ++i)
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 9


 430:modules/algorithm/QuaternionEKF.c ****     {
 431:modules/algorithm/QuaternionEKF.c ****         for (uint8_t j = 0; j < 3; ++j)
 432:modules/algorithm/QuaternionEKF.c ****         {
 433:modules/algorithm/QuaternionEKF.c ****             kf->K_data[i * 3 + j] *= QEKF_INS.OrientationCosine[i - 4] / 1.5707963f; // 1 rad
 434:modules/algorithm/QuaternionEKF.c ****         }
 435:modules/algorithm/QuaternionEKF.c ****     }
 436:modules/algorithm/QuaternionEKF.c **** 
 437:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numRows = kf->K.numRows;
 438:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 439:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->K, &kf->temp_vector1, &kf->temp_vector); // temp_vector = 
 440:modules/algorithm/QuaternionEKF.c **** 
 441:modules/algorithm/QuaternionEKF.c ****     // Èõ∂ÊºÇ‰øÆÊ≠£ÈôêÂπÖ,‰∏ÄËà¨‰∏ç‰ºöÊúâËøáÂ§ßÁöÑÊºÇÁßª
 442:modules/algorithm/QuaternionEKF.c ****     if (QEKF_INS.ConvergeFlag)
 443:modules/algorithm/QuaternionEKF.c ****     {
 444:modules/algorithm/QuaternionEKF.c ****         for (uint8_t i = 4; i < 6; ++i)
 445:modules/algorithm/QuaternionEKF.c ****         {
 446:modules/algorithm/QuaternionEKF.c ****             if (kf->temp_vector.pData[i] > 1e-2f * QEKF_INS.dt)
 447:modules/algorithm/QuaternionEKF.c ****             {
 448:modules/algorithm/QuaternionEKF.c ****                 kf->temp_vector.pData[i] = 1e-2f * QEKF_INS.dt;
 449:modules/algorithm/QuaternionEKF.c ****             }
 450:modules/algorithm/QuaternionEKF.c ****             if (kf->temp_vector.pData[i] < -1e-2f * QEKF_INS.dt)
 451:modules/algorithm/QuaternionEKF.c ****             {
 452:modules/algorithm/QuaternionEKF.c ****                 kf->temp_vector.pData[i] = -1e-2f * QEKF_INS.dt;
 453:modules/algorithm/QuaternionEKF.c ****             }
 454:modules/algorithm/QuaternionEKF.c ****         }
 455:modules/algorithm/QuaternionEKF.c ****     }
 456:modules/algorithm/QuaternionEKF.c **** 
 457:modules/algorithm/QuaternionEKF.c ****     // ‰∏ç‰øÆÊ≠£yawËΩ¥Êï∞ÊçÆ
 458:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.pData[3] = 0;
 459:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->xhatminus, &kf->temp_vector, &kf->xhat);
 460:modules/algorithm/QuaternionEKF.c **** }
 461:modules/algorithm/QuaternionEKF.c **** 
 462:modules/algorithm/QuaternionEKF.c **** /**
 463:modules/algorithm/QuaternionEKF.c ****  * @brief EKFËßÇÊµãÁéØËäÇ,ÂÖ∂ÂÆûÂ∞±ÊòØÊääÊï∞ÊçÆÂ§çÂà∂‰∏Ä‰∏ã
 464:modules/algorithm/QuaternionEKF.c ****  *
 465:modules/algorithm/QuaternionEKF.c ****  * @param kf kfÁ±ªÂûãÂÆö‰πâ
 466:modules/algorithm/QuaternionEKF.c ****  */
 467:modules/algorithm/QuaternionEKF.c **** static void IMU_QuaternionEKF_Observe(KalmanFilter_t *kf)
 468:modules/algorithm/QuaternionEKF.c **** {
 469:modules/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_P, kf->P_data, sizeof(IMU_QuaternionEKF_P));
 470:modules/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_K, kf->K_data, sizeof(IMU_QuaternionEKF_K));
 471:modules/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_H, kf->H_data, sizeof(IMU_QuaternionEKF_H));
 472:modules/algorithm/QuaternionEKF.c **** }
 473:modules/algorithm/QuaternionEKF.c **** 
 474:modules/algorithm/QuaternionEKF.c **** /**
 475:modules/algorithm/QuaternionEKF.c ****  * @brief Ëá™ÂÆö‰πâ1/sqrt(x),ÈÄüÂ∫¶Êõ¥Âø´
 476:modules/algorithm/QuaternionEKF.c ****  *
 477:modules/algorithm/QuaternionEKF.c ****  * @param x x
 478:modules/algorithm/QuaternionEKF.c ****  * @return float
 479:modules/algorithm/QuaternionEKF.c ****  */
 480:modules/algorithm/QuaternionEKF.c **** static float invSqrt(float x)
 481:modules/algorithm/QuaternionEKF.c **** {
  29              		.loc 1 481 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 10


 482:modules/algorithm/QuaternionEKF.c ****     float halfx = 0.5f * x;
  34              		.loc 1 482 5 view .LVU1
  35              		.loc 1 482 11 is_stmt 0 view .LVU2
  36 0000 F6EE007A 		vmov.f32	s15, #5.0e-1
  37 0004 60EE277A 		vmul.f32	s15, s0, s15
  38              	.LVL1:
 483:modules/algorithm/QuaternionEKF.c ****     float y = x;
  39              		.loc 1 483 5 is_stmt 1 view .LVU3
 484:modules/algorithm/QuaternionEKF.c ****     long i = *(long *)&y;
  40              		.loc 1 484 5 view .LVU4
  41              		.loc 1 484 14 is_stmt 0 view .LVU5
  42 0008 10EE103A 		vmov	r3, s0	@ int
  43              	.LVL2:
 485:modules/algorithm/QuaternionEKF.c ****     i = 0x5f375a86 - (i >> 1);
  44              		.loc 1 485 5 is_stmt 1 view .LVU6
 486:modules/algorithm/QuaternionEKF.c ****     y = *(float *)&i;
  45              		.loc 1 486 5 view .LVU7
  46              		.loc 1 486 9 is_stmt 0 view .LVU8
  47 000c 074A     		ldr	r2, .L2
  48 000e A2EB6303 		sub	r3, r2, r3, asr #1
  49              	.LVL3:
  50              		.loc 1 486 9 view .LVU9
  51 0012 07EE103A 		vmov	s14, r3	@ int
  52              	.LVL4:
 487:modules/algorithm/QuaternionEKF.c ****     y = y * (1.5f - (halfx * y * y));
  53              		.loc 1 487 5 is_stmt 1 view .LVU10
  54              		.loc 1 487 28 is_stmt 0 view .LVU11
  55 0016 67EE277A 		vmul.f32	s15, s14, s15
  56              	.LVL5:
  57              		.loc 1 487 32 view .LVU12
  58 001a 67EE277A 		vmul.f32	s15, s14, s15
  59              		.loc 1 487 19 view .LVU13
  60 001e B7EE080A 		vmov.f32	s0, #1.5e+0
  61              	.LVL6:
  62              		.loc 1 487 19 view .LVU14
  63 0022 30EE670A 		vsub.f32	s0, s0, s15
  64              	.LVL7:
 488:modules/algorithm/QuaternionEKF.c ****     return y;
  65              		.loc 1 488 5 is_stmt 1 view .LVU15
 489:modules/algorithm/QuaternionEKF.c **** }
  66              		.loc 1 489 1 is_stmt 0 view .LVU16
  67 0026 27EE000A 		vmul.f32	s0, s14, s0
  68 002a 7047     		bx	lr
  69              	.L3:
  70              		.align	2
  71              	.L2:
  72 002c 865A375F 		.word	1597463174
  73              		.cfi_endproc
  74              	.LFE169:
  76              		.section	.text.IMU_QuaternionEKF_F_Linearization_P_Fading,"ax",%progbits
  77              		.align	1
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  82              	IMU_QuaternionEKF_F_Linearization_P_Fading:
  83              	.LVL8:
  84              	.LFB165:
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 11


 226:modules/algorithm/QuaternionEKF.c ****     static float q0, q1, q2, q3;
  85              		.loc 1 226 1 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
 226:modules/algorithm/QuaternionEKF.c ****     static float q0, q1, q2, q3;
  89              		.loc 1 226 1 is_stmt 0 view .LVU18
  90 0000 10B5     		push	{r4, lr}
  91              	.LCFI0:
  92              		.cfi_def_cfa_offset 8
  93              		.cfi_offset 4, -8
  94              		.cfi_offset 14, -4
  95 0002 2DED048B 		vpush.64	{d8, d9}
  96              	.LCFI1:
  97              		.cfi_def_cfa_offset 24
  98              		.cfi_offset 80, -24
  99              		.cfi_offset 81, -20
 100              		.cfi_offset 82, -16
 101              		.cfi_offset 83, -12
 102 0006 0446     		mov	r4, r0
 227:modules/algorithm/QuaternionEKF.c ****     static float qInvNorm;
 103              		.loc 1 227 5 is_stmt 1 view .LVU19
 228:modules/algorithm/QuaternionEKF.c **** 
 104              		.loc 1 228 5 view .LVU20
 230:modules/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 105              		.loc 1 230 5 view .LVU21
 230:modules/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 106              		.loc 1 230 12 is_stmt 0 view .LVU22
 107 0008 D0F8EC30 		ldr	r3, [r0, #236]
 230:modules/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 108              		.loc 1 230 28 view .LVU23
 109 000c 93ED009A 		vldr.32	s18, [r3]
 230:modules/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 110              		.loc 1 230 8 view .LVU24
 111 0010 5C4A     		ldr	r2, .L14
 112 0012 82ED009A 		vstr.32	s18, [r2]
 231:modules/algorithm/QuaternionEKF.c ****     q2 = kf->xhatminus_data[2];
 113              		.loc 1 231 5 is_stmt 1 view .LVU25
 231:modules/algorithm/QuaternionEKF.c ****     q2 = kf->xhatminus_data[2];
 114              		.loc 1 231 8 is_stmt 0 view .LVU26
 115 0016 93ED018A 		vldr.32	s16, [r3, #4]
 116 001a 5B4A     		ldr	r2, .L14+4
 117 001c 82ED008A 		vstr.32	s16, [r2]
 232:modules/algorithm/QuaternionEKF.c ****     q3 = kf->xhatminus_data[3];
 118              		.loc 1 232 5 is_stmt 1 view .LVU27
 232:modules/algorithm/QuaternionEKF.c ****     q3 = kf->xhatminus_data[3];
 119              		.loc 1 232 8 is_stmt 0 view .LVU28
 120 0020 D3ED028A 		vldr.32	s17, [r3, #8]
 121 0024 594A     		ldr	r2, .L14+8
 122 0026 C2ED008A 		vstr.32	s17, [r2]
 233:modules/algorithm/QuaternionEKF.c **** 
 123              		.loc 1 233 5 is_stmt 1 view .LVU29
 233:modules/algorithm/QuaternionEKF.c **** 
 124              		.loc 1 233 8 is_stmt 0 view .LVU30
 125 002a D3ED039A 		vldr.32	s19, [r3, #12]
 126 002e 584B     		ldr	r3, .L14+12
 127 0030 C3ED009A 		vstr.32	s19, [r3]
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 12


 236:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 128              		.loc 1 236 5 is_stmt 1 view .LVU31
 236:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 129              		.loc 1 236 27 is_stmt 0 view .LVU32
 130 0034 69EE097A 		vmul.f32	s15, s18, s18
 236:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 131              		.loc 1 236 37 view .LVU33
 132 0038 28EE080A 		vmul.f32	s0, s16, s16
 236:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 133              		.loc 1 236 32 view .LVU34
 134 003c 77EE807A 		vadd.f32	s15, s15, s0
 236:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 135              		.loc 1 236 47 view .LVU35
 136 0040 28EEA80A 		vmul.f32	s0, s17, s17
 236:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 137              		.loc 1 236 42 view .LVU36
 138 0044 77EE807A 		vadd.f32	s15, s15, s0
 236:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 139              		.loc 1 236 57 view .LVU37
 140 0048 29EEA90A 		vmul.f32	s0, s19, s19
 236:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 141              		.loc 1 236 16 view .LVU38
 142 004c 37EE800A 		vadd.f32	s0, s15, s0
 143 0050 FFF7FEFF 		bl	invSqrt
 144              	.LVL9:
 236:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 4; ++i)
 145              		.loc 1 236 14 view .LVU39
 146 0054 4F4B     		ldr	r3, .L14+16
 147 0056 83ED000A 		vstr.32	s0, [r3]
 237:modules/algorithm/QuaternionEKF.c ****     {
 148              		.loc 1 237 5 is_stmt 1 view .LVU40
 149              	.LBB2:
 237:modules/algorithm/QuaternionEKF.c ****     {
 150              		.loc 1 237 10 view .LVU41
 151              	.LVL10:
 237:modules/algorithm/QuaternionEKF.c ****     {
 152              		.loc 1 237 18 is_stmt 0 view .LVU42
 153 005a 0023     		movs	r3, #0
 237:modules/algorithm/QuaternionEKF.c ****     {
 154              		.loc 1 237 5 view .LVU43
 155 005c 0BE0     		b	.L5
 156              	.LVL11:
 157              	.L6:
 239:modules/algorithm/QuaternionEKF.c ****     }
 158              		.loc 1 239 9 is_stmt 1 discriminator 3 view .LVU44
 239:modules/algorithm/QuaternionEKF.c ****     }
 159              		.loc 1 239 11 is_stmt 0 discriminator 3 view .LVU45
 160 005e D4F8EC20 		ldr	r2, [r4, #236]
 239:modules/algorithm/QuaternionEKF.c ****     }
 161              		.loc 1 239 31 discriminator 3 view .LVU46
 162 0062 02EB8302 		add	r2, r2, r3, lsl #2
 163 0066 D2ED007A 		vldr.32	s15, [r2]
 164 006a 67EE807A 		vmul.f32	s15, s15, s0
 165 006e C2ED007A 		vstr.32	s15, [r2]
 237:modules/algorithm/QuaternionEKF.c ****     {
 166              		.loc 1 237 32 is_stmt 1 discriminator 3 view .LVU47
 167 0072 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 13


 168              	.LVL12:
 237:modules/algorithm/QuaternionEKF.c ****     {
 169              		.loc 1 237 32 is_stmt 0 discriminator 3 view .LVU48
 170 0074 DBB2     		uxtb	r3, r3
 171              	.LVL13:
 172              	.L5:
 237:modules/algorithm/QuaternionEKF.c ****     {
 173              		.loc 1 237 25 is_stmt 1 discriminator 1 view .LVU49
 237:modules/algorithm/QuaternionEKF.c ****     {
 174              		.loc 1 237 5 is_stmt 0 discriminator 1 view .LVU50
 175 0076 032B     		cmp	r3, #3
 176 0078 F1D9     		bls	.L6
 177              	.LBE2:
 250:modules/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 178              		.loc 1 250 5 is_stmt 1 view .LVU51
 250:modules/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 179              		.loc 1 250 34 is_stmt 0 view .LVU52
 180 007a 474B     		ldr	r3, .L14+20
 181              	.LVL14:
 250:modules/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 182              		.loc 1 250 34 view .LVU53
 183 007c 93ED6F7A 		vldr.32	s14, [r3, #444]
 250:modules/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 184              		.loc 1 250 24 view .LVU54
 185 0080 28EE077A 		vmul.f32	s14, s16, s14
 250:modules/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 186              		.loc 1 250 7 view .LVU55
 187 0084 D4F80021 		ldr	r2, [r4, #256]
 250:modules/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 188              		.loc 1 250 38 view .LVU56
 189 0088 F6EE007A 		vmov.f32	s15, #5.0e-1
 190 008c 27EE277A 		vmul.f32	s14, s14, s15
 250:modules/algorithm/QuaternionEKF.c ****     kf->F_data[5] = q2 * QEKF_INS.dt / 2;
 191              		.loc 1 250 19 view .LVU57
 192 0090 82ED047A 		vstr.32	s14, [r2, #16]
 251:modules/algorithm/QuaternionEKF.c **** 
 193              		.loc 1 251 5 is_stmt 1 view .LVU58
 251:modules/algorithm/QuaternionEKF.c **** 
 194              		.loc 1 251 34 is_stmt 0 view .LVU59
 195 0094 93ED6F7A 		vldr.32	s14, [r3, #444]
 251:modules/algorithm/QuaternionEKF.c **** 
 196              		.loc 1 251 24 view .LVU60
 197 0098 28EE877A 		vmul.f32	s14, s17, s14
 251:modules/algorithm/QuaternionEKF.c **** 
 198              		.loc 1 251 7 view .LVU61
 199 009c D4F80021 		ldr	r2, [r4, #256]
 251:modules/algorithm/QuaternionEKF.c **** 
 200              		.loc 1 251 38 view .LVU62
 201 00a0 27EE277A 		vmul.f32	s14, s14, s15
 251:modules/algorithm/QuaternionEKF.c **** 
 202              		.loc 1 251 19 view .LVU63
 203 00a4 82ED057A 		vstr.32	s14, [r2, #20]
 253:modules/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 204              		.loc 1 253 5 is_stmt 1 view .LVU64
 253:modules/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 205              		.loc 1 253 36 is_stmt 0 view .LVU65
 206 00a8 93ED6F7A 		vldr.32	s14, [r3, #444]
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 14


 253:modules/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 207              		.loc 1 253 26 view .LVU66
 208 00ac 29EE477A 		vnmul.f32	s14, s18, s14
 253:modules/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 209              		.loc 1 253 7 view .LVU67
 210 00b0 D4F80021 		ldr	r2, [r4, #256]
 253:modules/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 211              		.loc 1 253 40 view .LVU68
 212 00b4 27EE277A 		vmul.f32	s14, s14, s15
 253:modules/algorithm/QuaternionEKF.c ****     kf->F_data[11] = q3 * QEKF_INS.dt / 2;
 213              		.loc 1 253 20 view .LVU69
 214 00b8 82ED0A7A 		vstr.32	s14, [r2, #40]
 254:modules/algorithm/QuaternionEKF.c **** 
 215              		.loc 1 254 5 is_stmt 1 view .LVU70
 254:modules/algorithm/QuaternionEKF.c **** 
 216              		.loc 1 254 35 is_stmt 0 view .LVU71
 217 00bc 93ED6F7A 		vldr.32	s14, [r3, #444]
 254:modules/algorithm/QuaternionEKF.c **** 
 218              		.loc 1 254 25 view .LVU72
 219 00c0 29EE877A 		vmul.f32	s14, s19, s14
 254:modules/algorithm/QuaternionEKF.c **** 
 220              		.loc 1 254 7 view .LVU73
 221 00c4 D4F80021 		ldr	r2, [r4, #256]
 254:modules/algorithm/QuaternionEKF.c **** 
 222              		.loc 1 254 39 view .LVU74
 223 00c8 27EE277A 		vmul.f32	s14, s14, s15
 254:modules/algorithm/QuaternionEKF.c **** 
 224              		.loc 1 254 20 view .LVU75
 225 00cc 82ED0B7A 		vstr.32	s14, [r2, #44]
 256:modules/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 226              		.loc 1 256 5 is_stmt 1 view .LVU76
 256:modules/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 227              		.loc 1 256 36 is_stmt 0 view .LVU77
 228 00d0 93ED6F7A 		vldr.32	s14, [r3, #444]
 256:modules/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 229              		.loc 1 256 26 view .LVU78
 230 00d4 69EEC79A 		vnmul.f32	s19, s19, s14
 256:modules/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 231              		.loc 1 256 7 view .LVU79
 232 00d8 D4F80021 		ldr	r2, [r4, #256]
 256:modules/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 233              		.loc 1 256 40 view .LVU80
 234 00dc 69EEA79A 		vmul.f32	s19, s19, s15
 256:modules/algorithm/QuaternionEKF.c ****     kf->F_data[17] = -q0 * QEKF_INS.dt / 2;
 235              		.loc 1 256 20 view .LVU81
 236 00e0 C2ED109A 		vstr.32	s19, [r2, #64]
 257:modules/algorithm/QuaternionEKF.c **** 
 237              		.loc 1 257 5 is_stmt 1 view .LVU82
 257:modules/algorithm/QuaternionEKF.c **** 
 238              		.loc 1 257 36 is_stmt 0 view .LVU83
 239 00e4 93ED6F7A 		vldr.32	s14, [r3, #444]
 257:modules/algorithm/QuaternionEKF.c **** 
 240              		.loc 1 257 26 view .LVU84
 241 00e8 29EE479A 		vnmul.f32	s18, s18, s14
 257:modules/algorithm/QuaternionEKF.c **** 
 242              		.loc 1 257 7 view .LVU85
 243 00ec D4F80021 		ldr	r2, [r4, #256]
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 15


 257:modules/algorithm/QuaternionEKF.c **** 
 244              		.loc 1 257 40 view .LVU86
 245 00f0 29EE279A 		vmul.f32	s18, s18, s15
 257:modules/algorithm/QuaternionEKF.c **** 
 246              		.loc 1 257 20 view .LVU87
 247 00f4 82ED119A 		vstr.32	s18, [r2, #68]
 259:modules/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 248              		.loc 1 259 5 is_stmt 1 view .LVU88
 259:modules/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 249              		.loc 1 259 35 is_stmt 0 view .LVU89
 250 00f8 93ED6F7A 		vldr.32	s14, [r3, #444]
 259:modules/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 251              		.loc 1 259 25 view .LVU90
 252 00fc 68EE878A 		vmul.f32	s17, s17, s14
 259:modules/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 253              		.loc 1 259 7 view .LVU91
 254 0100 D4F80021 		ldr	r2, [r4, #256]
 259:modules/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 255              		.loc 1 259 39 view .LVU92
 256 0104 68EEA78A 		vmul.f32	s17, s17, s15
 259:modules/algorithm/QuaternionEKF.c ****     kf->F_data[23] = -q1 * QEKF_INS.dt / 2;
 257              		.loc 1 259 20 view .LVU93
 258 0108 C2ED168A 		vstr.32	s17, [r2, #88]
 260:modules/algorithm/QuaternionEKF.c **** 
 259              		.loc 1 260 5 is_stmt 1 view .LVU94
 260:modules/algorithm/QuaternionEKF.c **** 
 260              		.loc 1 260 36 is_stmt 0 view .LVU95
 261 010c 93ED6F7A 		vldr.32	s14, [r3, #444]
 260:modules/algorithm/QuaternionEKF.c **** 
 262              		.loc 1 260 26 view .LVU96
 263 0110 28EE478A 		vnmul.f32	s16, s16, s14
 260:modules/algorithm/QuaternionEKF.c **** 
 264              		.loc 1 260 7 view .LVU97
 265 0114 D4F80021 		ldr	r2, [r4, #256]
 260:modules/algorithm/QuaternionEKF.c **** 
 266              		.loc 1 260 40 view .LVU98
 267 0118 28EE278A 		vmul.f32	s16, s16, s15
 260:modules/algorithm/QuaternionEKF.c **** 
 268              		.loc 1 260 20 view .LVU99
 269 011c 82ED178A 		vstr.32	s16, [r2, #92]
 263:modules/algorithm/QuaternionEKF.c ****     kf->P_data[35] /= QEKF_INS.lambda;
 270              		.loc 1 263 5 is_stmt 1 view .LVU100
 263:modules/algorithm/QuaternionEKF.c ****     kf->P_data[35] /= QEKF_INS.lambda;
 271              		.loc 1 263 7 is_stmt 0 view .LVU101
 272 0120 D4F8F820 		ldr	r2, [r4, #248]
 263:modules/algorithm/QuaternionEKF.c ****     kf->P_data[35] /= QEKF_INS.lambda;
 273              		.loc 1 263 31 view .LVU102
 274 0124 93ED747A 		vldr.32	s14, [r3, #464]
 263:modules/algorithm/QuaternionEKF.c ****     kf->P_data[35] /= QEKF_INS.lambda;
 275              		.loc 1 263 20 view .LVU103
 276 0128 D2ED1C6A 		vldr.32	s13, [r2, #112]
 277 012c C6EE877A 		vdiv.f32	s15, s13, s14
 278 0130 C2ED1C7A 		vstr.32	s15, [r2, #112]
 264:modules/algorithm/QuaternionEKF.c **** 
 279              		.loc 1 264 5 is_stmt 1 view .LVU104
 264:modules/algorithm/QuaternionEKF.c **** 
 280              		.loc 1 264 7 is_stmt 0 view .LVU105
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 16


 281 0134 D4F8F820 		ldr	r2, [r4, #248]
 264:modules/algorithm/QuaternionEKF.c **** 
 282              		.loc 1 264 31 view .LVU106
 283 0138 93ED747A 		vldr.32	s14, [r3, #464]
 264:modules/algorithm/QuaternionEKF.c **** 
 284              		.loc 1 264 20 view .LVU107
 285 013c D2ED236A 		vldr.32	s13, [r2, #140]
 286 0140 C6EE877A 		vdiv.f32	s15, s13, s14
 287 0144 C2ED237A 		vstr.32	s15, [r2, #140]
 267:modules/algorithm/QuaternionEKF.c ****     {
 288              		.loc 1 267 5 is_stmt 1 view .LVU108
 267:modules/algorithm/QuaternionEKF.c ****     {
 289              		.loc 1 267 11 is_stmt 0 view .LVU109
 290 0148 D4F8F830 		ldr	r3, [r4, #248]
 267:modules/algorithm/QuaternionEKF.c ****     {
 291              		.loc 1 267 19 view .LVU110
 292 014c 93ED1C7A 		vldr.32	s14, [r3, #112]
 267:modules/algorithm/QuaternionEKF.c ****     {
 293              		.loc 1 267 8 view .LVU111
 294 0150 DFED127A 		vldr.32	s15, .L14+24
 295 0154 B4EEE77A 		vcmpe.f32	s14, s15
 296 0158 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 297 015c 01DD     		ble	.L7
 269:modules/algorithm/QuaternionEKF.c ****     }
 298              		.loc 1 269 9 is_stmt 1 view .LVU112
 269:modules/algorithm/QuaternionEKF.c ****     }
 299              		.loc 1 269 24 is_stmt 0 view .LVU113
 300 015e C3ED1C7A 		vstr.32	s15, [r3, #112]
 301              	.L7:
 271:modules/algorithm/QuaternionEKF.c ****     {
 302              		.loc 1 271 5 is_stmt 1 view .LVU114
 271:modules/algorithm/QuaternionEKF.c ****     {
 303              		.loc 1 271 11 is_stmt 0 view .LVU115
 304 0162 D4F8F830 		ldr	r3, [r4, #248]
 271:modules/algorithm/QuaternionEKF.c ****     {
 305              		.loc 1 271 19 view .LVU116
 306 0166 93ED237A 		vldr.32	s14, [r3, #140]
 271:modules/algorithm/QuaternionEKF.c ****     {
 307              		.loc 1 271 8 view .LVU117
 308 016a DFED0C7A 		vldr.32	s15, .L14+24
 309 016e B4EEE77A 		vcmpe.f32	s14, s15
 310 0172 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 311 0176 01DD     		ble	.L4
 273:modules/algorithm/QuaternionEKF.c ****     }
 312              		.loc 1 273 9 is_stmt 1 view .LVU118
 273:modules/algorithm/QuaternionEKF.c ****     }
 313              		.loc 1 273 24 is_stmt 0 view .LVU119
 314 0178 C3ED237A 		vstr.32	s15, [r3, #140]
 315              	.L4:
 275:modules/algorithm/QuaternionEKF.c **** 
 316              		.loc 1 275 1 view .LVU120
 317 017c BDEC048B 		vldm	sp!, {d8-d9}
 318              	.LCFI2:
 319              		.cfi_restore 82
 320              		.cfi_restore 83
 321              		.cfi_restore 80
 322              		.cfi_restore 81
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 17


 323              		.cfi_def_cfa_offset 8
 324 0180 10BD     		pop	{r4, pc}
 325              	.LVL15:
 326              	.L15:
 275:modules/algorithm/QuaternionEKF.c **** 
 327              		.loc 1 275 1 view .LVU121
 328 0182 00BF     		.align	2
 329              	.L14:
 330 0184 00000000 		.word	.LANCHOR0
 331 0188 00000000 		.word	.LANCHOR1
 332 018c 00000000 		.word	.LANCHOR2
 333 0190 00000000 		.word	.LANCHOR3
 334 0194 00000000 		.word	.LANCHOR4
 335 0198 00000000 		.word	.LANCHOR5
 336 019c 00401C46 		.word	1176256512
 337              		.cfi_endproc
 338              	.LFE165:
 340              		.section	.text.IMU_QuaternionEKF_Observe,"ax",%progbits
 341              		.align	1
 342              		.syntax unified
 343              		.thumb
 344              		.thumb_func
 346              	IMU_QuaternionEKF_Observe:
 347              	.LVL16:
 348              	.LFB168:
 468:modules/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_P, kf->P_data, sizeof(IMU_QuaternionEKF_P));
 349              		.loc 1 468 1 is_stmt 1 view -0
 350              		.cfi_startproc
 351              		@ args = 0, pretend = 0, frame = 0
 352              		@ frame_needed = 0, uses_anonymous_args = 0
 468:modules/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_P, kf->P_data, sizeof(IMU_QuaternionEKF_P));
 353              		.loc 1 468 1 is_stmt 0 view .LVU123
 354 0000 38B5     		push	{r3, r4, r5, lr}
 355              	.LCFI3:
 356              		.cfi_def_cfa_offset 16
 357              		.cfi_offset 3, -16
 358              		.cfi_offset 4, -12
 359              		.cfi_offset 5, -8
 360              		.cfi_offset 14, -4
 361 0002 0446     		mov	r4, r0
 469:modules/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_K, kf->K_data, sizeof(IMU_QuaternionEKF_K));
 362              		.loc 1 469 5 is_stmt 1 view .LVU124
 363 0004 9022     		movs	r2, #144
 364 0006 D0F8F810 		ldr	r1, [r0, #248]
 365 000a 0848     		ldr	r0, .L18
 366              	.LVL17:
 469:modules/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_K, kf->K_data, sizeof(IMU_QuaternionEKF_K));
 367              		.loc 1 469 5 is_stmt 0 view .LVU125
 368 000c FFF7FEFF 		bl	memcpy
 369              	.LVL18:
 470:modules/algorithm/QuaternionEKF.c ****     memcpy(IMU_QuaternionEKF_H, kf->H_data, sizeof(IMU_QuaternionEKF_H));
 370              		.loc 1 470 5 is_stmt 1 view .LVU126
 371 0010 4825     		movs	r5, #72
 372 0012 2A46     		mov	r2, r5
 373 0014 D4F81C11 		ldr	r1, [r4, #284]
 374 0018 0548     		ldr	r0, .L18+4
 375 001a FFF7FEFF 		bl	memcpy
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 18


 376              	.LVL19:
 471:modules/algorithm/QuaternionEKF.c **** }
 377              		.loc 1 471 5 view .LVU127
 378 001e 2A46     		mov	r2, r5
 379 0020 D4F80C11 		ldr	r1, [r4, #268]
 380 0024 0348     		ldr	r0, .L18+8
 381 0026 FFF7FEFF 		bl	memcpy
 382              	.LVL20:
 472:modules/algorithm/QuaternionEKF.c **** 
 383              		.loc 1 472 1 is_stmt 0 view .LVU128
 384 002a 38BD     		pop	{r3, r4, r5, pc}
 385              	.LVL21:
 386              	.L19:
 472:modules/algorithm/QuaternionEKF.c **** 
 387              		.loc 1 472 1 view .LVU129
 388              		.align	2
 389              	.L18:
 390 002c 00000000 		.word	.LANCHOR6
 391 0030 00000000 		.word	.LANCHOR7
 392 0034 00000000 		.word	.LANCHOR8
 393              		.cfi_endproc
 394              	.LFE168:
 396              		.section	.text.IMU_QuaternionEKF_xhatUpdate,"ax",%progbits
 397              		.align	1
 398              		.syntax unified
 399              		.thumb
 400              		.thumb_func
 402              	IMU_QuaternionEKF_xhatUpdate:
 403              	.LVL22:
 404              	.LFB167:
 323:modules/algorithm/QuaternionEKF.c ****     static float q0, q1, q2, q3;
 405              		.loc 1 323 1 is_stmt 1 view -0
 406              		.cfi_startproc
 407              		@ args = 0, pretend = 0, frame = 0
 408              		@ frame_needed = 0, uses_anonymous_args = 0
 323:modules/algorithm/QuaternionEKF.c ****     static float q0, q1, q2, q3;
 409              		.loc 1 323 1 is_stmt 0 view .LVU131
 410 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 411              	.LCFI4:
 412              		.cfi_def_cfa_offset 40
 413              		.cfi_offset 3, -40
 414              		.cfi_offset 4, -36
 415              		.cfi_offset 5, -32
 416              		.cfi_offset 6, -28
 417              		.cfi_offset 7, -24
 418              		.cfi_offset 8, -20
 419              		.cfi_offset 9, -16
 420              		.cfi_offset 10, -12
 421              		.cfi_offset 11, -8
 422              		.cfi_offset 14, -4
 423 0004 0446     		mov	r4, r0
 324:modules/algorithm/QuaternionEKF.c **** 
 424              		.loc 1 324 5 is_stmt 1 view .LVU132
 326:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->H.numRows;
 425              		.loc 1 326 5 view .LVU133
 326:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->H.numRows;
 426              		.loc 1 326 38 is_stmt 0 view .LVU134
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 19


 427 0006 00F17805 		add	r5, r0, #120
 326:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->H.numRows;
 428              		.loc 1 326 21 view .LVU135
 429 000a 00F18007 		add	r7, r0, #128
 430 000e 3946     		mov	r1, r7
 431 0010 2846     		mov	r0, r5
 432              	.LVL23:
 326:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->H.numRows;
 433              		.loc 1 326 21 view .LVU136
 434 0012 FFF7FEFF 		bl	arm_mat_trans_f32
 435              	.LVL24:
 326:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numRows = kf->H.numRows;
 436              		.loc 1 326 19 view .LVU137
 437 0016 84F8C800 		strb	r0, [r4, #200]
 327:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->Pminus.numCols;
 438              		.loc 1 327 5 is_stmt 1 view .LVU138
 327:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->Pminus.numCols;
 439              		.loc 1 327 36 is_stmt 0 view .LVU139
 440 001a B4F87830 		ldrh	r3, [r4, #120]
 327:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->Pminus.numCols;
 441              		.loc 1 327 29 view .LVU140
 442 001e A4F8A830 		strh	r3, [r4, #168]	@ movhi
 328:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->H, &kf->Pminus, &kf->temp_matrix); // temp_matrix = H¬∑P'(
 443              		.loc 1 328 5 is_stmt 1 view .LVU141
 328:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->H, &kf->Pminus, &kf->temp_matrix); // temp_matrix = H¬∑P'(
 444              		.loc 1 328 41 is_stmt 0 view .LVU142
 445 0022 B4F85A30 		ldrh	r3, [r4, #90]
 328:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->H, &kf->Pminus, &kf->temp_matrix); // temp_matrix = H¬∑P'(
 446              		.loc 1 328 29 view .LVU143
 447 0026 A4F8AA30 		strh	r3, [r4, #170]	@ movhi
 329:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numRows = kf->temp_matrix.numRows;
 448              		.loc 1 329 5 is_stmt 1 view .LVU144
 329:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numRows = kf->temp_matrix.numRows;
 449              		.loc 1 329 45 is_stmt 0 view .LVU145
 450 002a 04F1580A 		add	r10, r4, #88
 329:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numRows = kf->temp_matrix.numRows;
 451              		.loc 1 329 21 view .LVU146
 452 002e 04F1A808 		add	r8, r4, #168
 453 0032 4246     		mov	r2, r8
 454 0034 5146     		mov	r1, r10
 455 0036 2846     		mov	r0, r5
 456 0038 FFF7FEFF 		bl	arm_mat_mult_f32
 457              	.LVL25:
 329:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numRows = kf->temp_matrix.numRows;
 458              		.loc 1 329 19 view .LVU147
 459 003c 84F8C800 		strb	r0, [r4, #200]
 330:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numCols = kf->HT.numCols;
 460              		.loc 1 330 5 is_stmt 1 view .LVU148
 330:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numCols = kf->HT.numCols;
 461              		.loc 1 330 47 is_stmt 0 view .LVU149
 462 0040 B4F8A830 		ldrh	r3, [r4, #168]
 330:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix1.numCols = kf->HT.numCols;
 463              		.loc 1 330 30 view .LVU150
 464 0044 A4F8B030 		strh	r3, [r4, #176]	@ movhi
 331:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->HT, &kf->temp_matrix1); // temp_matrix1 
 465              		.loc 1 331 5 is_stmt 1 view .LVU151
 331:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->HT, &kf->temp_matrix1); // temp_matrix1 
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 20


 466              		.loc 1 331 38 is_stmt 0 view .LVU152
 467 0048 B4F88230 		ldrh	r3, [r4, #130]
 331:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->HT, &kf->temp_matrix1); // temp_matrix1 
 468              		.loc 1 331 30 view .LVU153
 469 004c A4F8B230 		strh	r3, [r4, #178]	@ movhi
 332:modules/algorithm/QuaternionEKF.c ****     kf->S.numRows = kf->R.numRows;
 470              		.loc 1 332 5 is_stmt 1 view .LVU154
 332:modules/algorithm/QuaternionEKF.c ****     kf->S.numRows = kf->R.numRows;
 471              		.loc 1 332 21 is_stmt 0 view .LVU155
 472 0050 04F1B009 		add	r9, r4, #176
 473 0054 4A46     		mov	r2, r9
 474 0056 3946     		mov	r1, r7
 475 0058 4046     		mov	r0, r8
 476 005a FFF7FEFF 		bl	arm_mat_mult_f32
 477              	.LVL26:
 332:modules/algorithm/QuaternionEKF.c ****     kf->S.numRows = kf->R.numRows;
 478              		.loc 1 332 19 view .LVU156
 479 005e 84F8C800 		strb	r0, [r4, #200]
 333:modules/algorithm/QuaternionEKF.c ****     kf->S.numCols = kf->R.numCols;
 480              		.loc 1 333 5 is_stmt 1 view .LVU157
 333:modules/algorithm/QuaternionEKF.c ****     kf->S.numCols = kf->R.numCols;
 481              		.loc 1 333 26 is_stmt 0 view .LVU158
 482 0062 B4F89030 		ldrh	r3, [r4, #144]
 333:modules/algorithm/QuaternionEKF.c ****     kf->S.numCols = kf->R.numCols;
 483              		.loc 1 333 19 view .LVU159
 484 0066 A4F8A030 		strh	r3, [r4, #160]	@ movhi
 334:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->temp_matrix1, &kf->R, &kf->S); // S = H P'(k) HT + R
 485              		.loc 1 334 5 is_stmt 1 view .LVU160
 334:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->temp_matrix1, &kf->R, &kf->S); // S = H P'(k) HT + R
 486              		.loc 1 334 26 is_stmt 0 view .LVU161
 487 006a B4F89230 		ldrh	r3, [r4, #146]
 334:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->temp_matrix1, &kf->R, &kf->S); // S = H P'(k) HT + R
 488              		.loc 1 334 19 view .LVU162
 489 006e A4F8A230 		strh	r3, [r4, #162]	@ movhi
 335:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Inverse(&kf->S, &kf->temp_matrix1);     // temp_matrix1 = inv(H¬∑P'(k)¬∑
 490              		.loc 1 335 5 is_stmt 1 view .LVU163
 335:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Inverse(&kf->S, &kf->temp_matrix1);     // temp_matrix1 = inv(H¬∑P'(k)¬∑
 491              		.loc 1 335 21 is_stmt 0 view .LVU164
 492 0072 04F1A005 		add	r5, r4, #160
 493 0076 2A46     		mov	r2, r5
 494 0078 04F19001 		add	r1, r4, #144
 495 007c 4846     		mov	r0, r9
 496 007e FFF7FEFF 		bl	arm_mat_add_f32
 497              	.LVL27:
 335:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Inverse(&kf->S, &kf->temp_matrix1);     // temp_matrix1 = inv(H¬∑P'(k)¬∑
 498              		.loc 1 335 19 view .LVU165
 499 0082 84F8C800 		strb	r0, [r4, #200]
 336:modules/algorithm/QuaternionEKF.c **** 
 500              		.loc 1 336 5 is_stmt 1 view .LVU166
 336:modules/algorithm/QuaternionEKF.c **** 
 501              		.loc 1 336 21 is_stmt 0 view .LVU167
 502 0086 4946     		mov	r1, r9
 503 0088 2846     		mov	r0, r5
 504 008a FFF7FEFF 		bl	arm_mat_inverse_f32
 505              	.LVL28:
 336:modules/algorithm/QuaternionEKF.c **** 
 506              		.loc 1 336 19 view .LVU168
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 21


 507 008e 84F8C800 		strb	r0, [r4, #200]
 338:modules/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 508              		.loc 1 338 5 is_stmt 1 view .LVU169
 338:modules/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 509              		.loc 1 338 12 is_stmt 0 view .LVU170
 510 0092 D4F8EC30 		ldr	r3, [r4, #236]
 338:modules/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 511              		.loc 1 338 28 view .LVU171
 512 0096 D3ED007A 		vldr.32	s15, [r3]
 338:modules/algorithm/QuaternionEKF.c ****     q1 = kf->xhatminus_data[1];
 513              		.loc 1 338 8 view .LVU172
 514 009a C44A     		ldr	r2, .L57
 515 009c C2ED007A 		vstr.32	s15, [r2]
 339:modules/algorithm/QuaternionEKF.c ****     q2 = kf->xhatminus_data[2];
 516              		.loc 1 339 5 is_stmt 1 view .LVU173
 339:modules/algorithm/QuaternionEKF.c ****     q2 = kf->xhatminus_data[2];
 517              		.loc 1 339 8 is_stmt 0 view .LVU174
 518 00a0 93ED016A 		vldr.32	s12, [r3, #4]
 519 00a4 C24A     		ldr	r2, .L57+4
 520 00a6 82ED006A 		vstr.32	s12, [r2]
 340:modules/algorithm/QuaternionEKF.c ****     q3 = kf->xhatminus_data[3];
 521              		.loc 1 340 5 is_stmt 1 view .LVU175
 340:modules/algorithm/QuaternionEKF.c ****     q3 = kf->xhatminus_data[3];
 522              		.loc 1 340 8 is_stmt 0 view .LVU176
 523 00aa D3ED026A 		vldr.32	s13, [r3, #8]
 524 00ae C14A     		ldr	r2, .L57+8
 525 00b0 C2ED006A 		vstr.32	s13, [r2]
 341:modules/algorithm/QuaternionEKF.c **** 
 526              		.loc 1 341 5 is_stmt 1 view .LVU177
 341:modules/algorithm/QuaternionEKF.c **** 
 527              		.loc 1 341 8 is_stmt 0 view .LVU178
 528 00b4 93ED037A 		vldr.32	s14, [r3, #12]
 529 00b8 BF4B     		ldr	r3, .L57+12
 530 00ba 83ED007A 		vstr.32	s14, [r3]
 343:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 531              		.loc 1 343 5 is_stmt 1 view .LVU179
 343:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 532              		.loc 1 343 36 is_stmt 0 view .LVU180
 533 00be B4F87830 		ldrh	r3, [r4, #120]
 343:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 534              		.loc 1 343 29 view .LVU181
 535 00c2 A4F8B830 		strh	r3, [r4, #184]	@ movhi
 344:modules/algorithm/QuaternionEKF.c ****     // ËÆ°ÁÆóÈ¢ÑÊµãÂæóÂà∞ÁöÑÈáçÂäõÂä†ÈÄüÂ∫¶ÊñπÂêë(ÈÄöËøáÂßøÊÄÅËé∑ÂèñÁöÑ)
 536              		.loc 1 344 5 is_stmt 1 view .LVU182
 344:modules/algorithm/QuaternionEKF.c ****     // ËÆ°ÁÆóÈ¢ÑÊµãÂæóÂà∞ÁöÑÈáçÂäõÂä†ÈÄüÂ∫¶ÊñπÂêë(ÈÄöËøáÂßøÊÄÅËé∑ÂèñÁöÑ)
 537              		.loc 1 344 29 is_stmt 0 view .LVU183
 538 00c6 0123     		movs	r3, #1
 539 00c8 A4F8BA30 		strh	r3, [r4, #186]	@ movhi
 346:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 540              		.loc 1 346 5 is_stmt 1 view .LVU184
 346:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 541              		.loc 1 346 39 is_stmt 0 view .LVU185
 542 00cc 66EE075A 		vmul.f32	s11, s12, s14
 346:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 543              		.loc 1 346 49 view .LVU186
 544 00d0 27EEA65A 		vmul.f32	s10, s15, s13
 346:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 22


 545              		.loc 1 346 44 view .LVU187
 546 00d4 75EEC55A 		vsub.f32	s11, s11, s10
 346:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 547              		.loc 1 346 7 view .LVU188
 548 00d8 D4F82C31 		ldr	r3, [r4, #300]
 346:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 549              		.loc 1 346 33 view .LVU189
 550 00dc 75EEA55A 		vadd.f32	s11, s11, s11
 346:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[1] = 2 * (q0 * q1 + q2 * q3);
 551              		.loc 1 346 29 view .LVU190
 552 00e0 C3ED005A 		vstr.32	s11, [r3]
 347:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 553              		.loc 1 347 5 is_stmt 1 view .LVU191
 347:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 554              		.loc 1 347 39 is_stmt 0 view .LVU192
 555 00e4 67EE865A 		vmul.f32	s11, s15, s12
 347:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 556              		.loc 1 347 49 view .LVU193
 557 00e8 26EE875A 		vmul.f32	s10, s13, s14
 347:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 558              		.loc 1 347 44 view .LVU194
 559 00ec 75EE855A 		vadd.f32	s11, s11, s10
 347:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 560              		.loc 1 347 7 view .LVU195
 561 00f0 D4F82C31 		ldr	r3, [r4, #300]
 347:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 562              		.loc 1 347 33 view .LVU196
 563 00f4 75EEA55A 		vadd.f32	s11, s11, s11
 347:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector_data[2] = q0 * q0 - q1 * q1 - q2 * q2 + q3 * q3; // temp_vector = h(xhat'(k))
 564              		.loc 1 347 29 view .LVU197
 565 00f8 C3ED015A 		vstr.32	s11, [r3, #4]
 348:modules/algorithm/QuaternionEKF.c **** 
 566              		.loc 1 348 5 is_stmt 1 view .LVU198
 348:modules/algorithm/QuaternionEKF.c **** 
 567              		.loc 1 348 34 is_stmt 0 view .LVU199
 568 00fc 67EEA77A 		vmul.f32	s15, s15, s15
 348:modules/algorithm/QuaternionEKF.c **** 
 569              		.loc 1 348 44 view .LVU200
 570 0100 26EE066A 		vmul.f32	s12, s12, s12
 348:modules/algorithm/QuaternionEKF.c **** 
 571              		.loc 1 348 39 view .LVU201
 572 0104 77EEC67A 		vsub.f32	s15, s15, s12
 348:modules/algorithm/QuaternionEKF.c **** 
 573              		.loc 1 348 54 view .LVU202
 574 0108 66EEA66A 		vmul.f32	s13, s13, s13
 348:modules/algorithm/QuaternionEKF.c **** 
 575              		.loc 1 348 49 view .LVU203
 576 010c 77EEE67A 		vsub.f32	s15, s15, s13
 348:modules/algorithm/QuaternionEKF.c **** 
 577              		.loc 1 348 64 view .LVU204
 578 0110 27EE077A 		vmul.f32	s14, s14, s14
 348:modules/algorithm/QuaternionEKF.c **** 
 579              		.loc 1 348 7 view .LVU205
 580 0114 D4F82C31 		ldr	r3, [r4, #300]
 348:modules/algorithm/QuaternionEKF.c **** 
 581              		.loc 1 348 59 view .LVU206
 582 0118 77EE877A 		vadd.f32	s15, s15, s14
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 23


 348:modules/algorithm/QuaternionEKF.c **** 
 583              		.loc 1 348 29 view .LVU207
 584 011c C3ED027A 		vstr.32	s15, [r3, #8]
 351:modules/algorithm/QuaternionEKF.c ****     {
 585              		.loc 1 351 5 is_stmt 1 view .LVU208
 586              	.LBB3:
 351:modules/algorithm/QuaternionEKF.c ****     {
 587              		.loc 1 351 10 view .LVU209
 588              	.LVL29:
 351:modules/algorithm/QuaternionEKF.c ****     {
 589              		.loc 1 351 18 is_stmt 0 view .LVU210
 590 0120 0025     		movs	r5, #0
 351:modules/algorithm/QuaternionEKF.c ****     {
 591              		.loc 1 351 5 view .LVU211
 592 0122 12E0     		b	.L21
 593              	.LVL30:
 594              	.L22:
 353:modules/algorithm/QuaternionEKF.c ****     }
 595              		.loc 1 353 9 is_stmt 1 discriminator 3 view .LVU212
 353:modules/algorithm/QuaternionEKF.c ****     }
 596              		.loc 1 353 55 is_stmt 0 discriminator 3 view .LVU213
 597 0124 D4F82C31 		ldr	r3, [r4, #300]
 353:modules/algorithm/QuaternionEKF.c ****     }
 598              		.loc 1 353 73 discriminator 3 view .LVU214
 599 0128 03EB8503 		add	r3, r3, r5, lsl #2
 600 012c 93ED000A 		vldr.32	s0, [r3]
 353:modules/algorithm/QuaternionEKF.c ****     }
 601              		.loc 1 353 41 discriminator 3 view .LVU215
 602 0130 B0EEC00A 		vabs.f32	s0, s0
 603 0134 FFF7FEFF 		bl	acosf
 604              	.LVL31:
 353:modules/algorithm/QuaternionEKF.c ****     }
 605              		.loc 1 353 39 discriminator 3 view .LVU216
 606 0138 05F16002 		add	r2, r5, #96
 607 013c 9F4B     		ldr	r3, .L57+16
 608 013e 03EB8203 		add	r3, r3, r2, lsl #2
 609 0142 83ED010A 		vstr.32	s0, [r3, #4]
 351:modules/algorithm/QuaternionEKF.c ****     {
 610              		.loc 1 351 32 is_stmt 1 discriminator 3 view .LVU217
 611 0146 0135     		adds	r5, r5, #1
 612              	.LVL32:
 351:modules/algorithm/QuaternionEKF.c ****     {
 613              		.loc 1 351 32 is_stmt 0 discriminator 3 view .LVU218
 614 0148 EDB2     		uxtb	r5, r5
 615              	.LVL33:
 616              	.L21:
 351:modules/algorithm/QuaternionEKF.c ****     {
 617              		.loc 1 351 25 is_stmt 1 discriminator 1 view .LVU219
 351:modules/algorithm/QuaternionEKF.c ****     {
 618              		.loc 1 351 5 is_stmt 0 discriminator 1 view .LVU220
 619 014a 022D     		cmp	r5, #2
 620 014c EAD9     		bls	.L22
 621              	.LBE3:
 357:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector1.numCols = 1;
 622              		.loc 1 357 5 is_stmt 1 view .LVU221
 357:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector1.numCols = 1;
 623              		.loc 1 357 37 is_stmt 0 view .LVU222
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 24


 624 014e B4F84830 		ldrh	r3, [r4, #72]
 357:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector1.numCols = 1;
 625              		.loc 1 357 30 view .LVU223
 626 0152 A4F8C030 		strh	r3, [r4, #192]	@ movhi
 358:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Subtract(&kf->z, &kf->temp_vector, &kf->temp_vector1); // temp_vector1 =
 627              		.loc 1 358 5 is_stmt 1 view .LVU224
 358:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Subtract(&kf->z, &kf->temp_vector, &kf->temp_vector1); // temp_vector1 =
 628              		.loc 1 358 30 is_stmt 0 view .LVU225
 629 0156 4FF0010B 		mov	fp, #1
 630 015a A4F8C2B0 		strh	fp, [r4, #194]	@ movhi
 359:modules/algorithm/QuaternionEKF.c **** 
 631              		.loc 1 359 5 is_stmt 1 view .LVU226
 359:modules/algorithm/QuaternionEKF.c **** 
 632              		.loc 1 359 45 is_stmt 0 view .LVU227
 633 015e 04F1B805 		add	r5, r4, #184
 634              	.LVL34:
 359:modules/algorithm/QuaternionEKF.c **** 
 635              		.loc 1 359 21 view .LVU228
 636 0162 04F1C006 		add	r6, r4, #192
 637 0166 3246     		mov	r2, r6
 638 0168 2946     		mov	r1, r5
 639 016a 04F14800 		add	r0, r4, #72
 640 016e FFF7FEFF 		bl	arm_mat_sub_f32
 641              	.LVL35:
 359:modules/algorithm/QuaternionEKF.c **** 
 642              		.loc 1 359 19 view .LVU229
 643 0172 84F8C800 		strb	r0, [r4, #200]
 362:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = 1;
 644              		.loc 1 362 5 is_stmt 1 view .LVU230
 362:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = 1;
 645              		.loc 1 362 47 is_stmt 0 view .LVU231
 646 0176 B4F8C030 		ldrh	r3, [r4, #192]
 362:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = 1;
 647              		.loc 1 362 29 view .LVU232
 648 017a A4F8A830 		strh	r3, [r4, #168]	@ movhi
 363:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix1, &kf->temp_vector1, &kf->temp_matrix); // tem
 649              		.loc 1 363 5 is_stmt 1 view .LVU233
 363:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix1, &kf->temp_vector1, &kf->temp_matrix); // tem
 650              		.loc 1 363 29 is_stmt 0 view .LVU234
 651 017e A4F8AAB0 		strh	fp, [r4, #170]	@ movhi
 364:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numRows = 1;
 652              		.loc 1 364 5 is_stmt 1 view .LVU235
 364:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numRows = 1;
 653              		.loc 1 364 21 is_stmt 0 view .LVU236
 654 0182 4246     		mov	r2, r8
 655 0184 3146     		mov	r1, r6
 656 0186 4846     		mov	r0, r9
 657 0188 FFF7FEFF 		bl	arm_mat_mult_f32
 658              	.LVL36:
 364:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numRows = 1;
 659              		.loc 1 364 19 view .LVU237
 660 018c 84F8C800 		strb	r0, [r4, #200]
 365:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = kf->temp_vector1.numRows;
 661              		.loc 1 365 5 is_stmt 1 view .LVU238
 365:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = kf->temp_vector1.numRows;
 662              		.loc 1 365 29 is_stmt 0 view .LVU239
 663 0190 A4F8B8B0 		strh	fp, [r4, #184]	@ movhi
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 25


 366:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Transpose(&kf->temp_vector1, &kf->temp_vector); // temp_vector = z(k) - 
 664              		.loc 1 366 5 is_stmt 1 view .LVU240
 366:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Transpose(&kf->temp_vector1, &kf->temp_vector); // temp_vector = z(k) - 
 665              		.loc 1 366 47 is_stmt 0 view .LVU241
 666 0194 B4F8C030 		ldrh	r3, [r4, #192]
 366:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Transpose(&kf->temp_vector1, &kf->temp_vector); // temp_vector = z(k) - 
 667              		.loc 1 366 29 view .LVU242
 668 0198 A4F8BA30 		strh	r3, [r4, #186]	@ movhi
 367:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_vector, &kf->temp_matrix, &QEKF_INS.ChiSquare);
 669              		.loc 1 367 5 is_stmt 1 view .LVU243
 367:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_vector, &kf->temp_matrix, &QEKF_INS.ChiSquare);
 670              		.loc 1 367 21 is_stmt 0 view .LVU244
 671 019c 2946     		mov	r1, r5
 672 019e 3046     		mov	r0, r6
 673 01a0 FFF7FEFF 		bl	arm_mat_trans_f32
 674              	.LVL37:
 367:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_vector, &kf->temp_matrix, &QEKF_INS.ChiSquare);
 675              		.loc 1 367 19 view .LVU245
 676 01a4 84F8C800 		strb	r0, [r4, #200]
 368:modules/algorithm/QuaternionEKF.c ****     // rk is small,filter converged/converging
 677              		.loc 1 368 5 is_stmt 1 view .LVU246
 368:modules/algorithm/QuaternionEKF.c ****     // rk is small,filter converged/converging
 678              		.loc 1 368 21 is_stmt 0 view .LVU247
 679 01a8 DFF810B2 		ldr	fp, .L57+16
 680 01ac 0BF5E072 		add	r2, fp, #448
 681 01b0 4146     		mov	r1, r8
 682 01b2 2846     		mov	r0, r5
 683 01b4 FFF7FEFF 		bl	arm_mat_mult_f32
 684              	.LVL38:
 368:modules/algorithm/QuaternionEKF.c ****     // rk is small,filter converged/converging
 685              		.loc 1 368 19 view .LVU248
 686 01b8 84F8C800 		strb	r0, [r4, #200]
 370:modules/algorithm/QuaternionEKF.c ****     {
 687              		.loc 1 370 5 is_stmt 1 view .LVU249
 370:modules/algorithm/QuaternionEKF.c ****     {
 688              		.loc 1 370 32 is_stmt 0 view .LVU250
 689 01bc 9BED727A 		vldr.32	s14, [fp, #456]
 370:modules/algorithm/QuaternionEKF.c ****     {
 690              		.loc 1 370 53 view .LVU251
 691 01c0 DBED737A 		vldr.32	s15, [fp, #460]
 370:modules/algorithm/QuaternionEKF.c ****     {
 692              		.loc 1 370 43 view .LVU252
 693 01c4 F6EE006A 		vmov.f32	s13, #5.0e-1
 694 01c8 67EEA66A 		vmul.f32	s13, s15, s13
 370:modules/algorithm/QuaternionEKF.c ****     {
 695              		.loc 1 370 8 view .LVU253
 696 01cc B4EEE67A 		vcmpe.f32	s14, s13
 697 01d0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 698 01d4 02D5     		bpl	.L23
 372:modules/algorithm/QuaternionEKF.c ****     }
 699              		.loc 1 372 9 is_stmt 1 view .LVU254
 372:modules/algorithm/QuaternionEKF.c ****     }
 700              		.loc 1 372 31 is_stmt 0 view .LVU255
 701 01d6 0122     		movs	r2, #1
 702 01d8 8BF83821 		strb	r2, [fp, #312]
 703              	.L23:
 375:modules/algorithm/QuaternionEKF.c ****     {
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 26


 704              		.loc 1 375 5 is_stmt 1 view .LVU256
 375:modules/algorithm/QuaternionEKF.c ****     {
 705              		.loc 1 375 8 is_stmt 0 view .LVU257
 706 01dc B4EEE77A 		vcmpe.f32	s14, s15
 707 01e0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 708 01e4 45DD     		ble	.L25
 375:modules/algorithm/QuaternionEKF.c ****     {
 709              		.loc 1 375 81 discriminator 1 view .LVU258
 710 01e6 754B     		ldr	r3, .L57+16
 711 01e8 93F83831 		ldrb	r3, [r3, #312]	@ zero_extendqisi2
 375:modules/algorithm/QuaternionEKF.c ****     {
 712              		.loc 1 375 70 discriminator 1 view .LVU259
 713 01ec 002B     		cmp	r3, #0
 714 01ee 40D0     		beq	.L25
 377:modules/algorithm/QuaternionEKF.c ****         {
 715              		.loc 1 377 9 is_stmt 1 view .LVU260
 377:modules/algorithm/QuaternionEKF.c ****         {
 716              		.loc 1 377 21 is_stmt 0 view .LVU261
 717 01f0 724B     		ldr	r3, .L57+16
 718 01f2 93F83931 		ldrb	r3, [r3, #313]	@ zero_extendqisi2
 377:modules/algorithm/QuaternionEKF.c ****         {
 719              		.loc 1 377 12 view .LVU262
 720 01f6 DBB1     		cbz	r3, .L27
 379:modules/algorithm/QuaternionEKF.c ****         }
 721              		.loc 1 379 13 is_stmt 1 view .LVU263
 379:modules/algorithm/QuaternionEKF.c ****         }
 722              		.loc 1 379 21 is_stmt 0 view .LVU264
 723 01f8 704A     		ldr	r2, .L57+16
 724 01fa D2F84031 		ldr	r3, [r2, #320]
 725 01fe D2F84411 		ldr	r1, [r2, #324]
 379:modules/algorithm/QuaternionEKF.c ****         }
 726              		.loc 1 379 32 view .LVU265
 727 0202 0133     		adds	r3, r3, #1
 728 0204 41F10001 		adc	r1, r1, #0
 729 0208 C2F84031 		str	r3, [r2, #320]
 730 020c C2F84411 		str	r1, [r2, #324]
 731              	.L28:
 386:modules/algorithm/QuaternionEKF.c ****         {
 732              		.loc 1 386 9 is_stmt 1 view .LVU266
 386:modules/algorithm/QuaternionEKF.c ****         {
 733              		.loc 1 386 21 is_stmt 0 view .LVU267
 734 0210 6A4B     		ldr	r3, .L57+16
 735 0212 D3F84021 		ldr	r2, [r3, #320]
 736 0216 D3F84431 		ldr	r3, [r3, #324]
 386:modules/algorithm/QuaternionEKF.c ****         {
 737              		.loc 1 386 12 view .LVU268
 738 021a 332A     		cmp	r2, #51
 739 021c 73F10003 		sbcs	r3, r3, #0
 740 0220 0CD3     		bcc	.L29
 389:modules/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = FALSE; // step-5 is cov mat P updating
 741              		.loc 1 389 13 is_stmt 1 view .LVU269
 389:modules/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = FALSE; // step-5 is cov mat P updating
 742              		.loc 1 389 35 is_stmt 0 view .LVU270
 743 0222 0023     		movs	r3, #0
 744 0224 654A     		ldr	r2, .L57+16
 745 0226 82F83831 		strb	r3, [r2, #312]
 390:modules/algorithm/QuaternionEKF.c ****         }
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 27


 746              		.loc 1 390 13 is_stmt 1 view .LVU271
 390:modules/algorithm/QuaternionEKF.c ****         }
 747              		.loc 1 390 25 is_stmt 0 view .LVU272
 748 022a 84F82C30 		strb	r3, [r4, #44]
 386:modules/algorithm/QuaternionEKF.c ****         {
 749              		.loc 1 386 12 view .LVU273
 750 022e 46E0     		b	.L30
 751              	.L27:
 383:modules/algorithm/QuaternionEKF.c ****         }
 752              		.loc 1 383 13 is_stmt 1 view .LVU274
 383:modules/algorithm/QuaternionEKF.c ****         }
 753              		.loc 1 383 33 is_stmt 0 view .LVU275
 754 0230 624B     		ldr	r3, .L57+16
 755 0232 0020     		movs	r0, #0
 756 0234 0021     		movs	r1, #0
 757 0236 C3E95001 		strd	r0, [r3, #320]
 758 023a E9E7     		b	.L28
 759              	.L29:
 397:modules/algorithm/QuaternionEKF.c ****             memcpy(kf->P_data, kf->Pminus_data, sizeof_float * kf->xhatSize * kf->xhatSize);
 760              		.loc 1 397 13 is_stmt 1 view .LVU276
 397:modules/algorithm/QuaternionEKF.c ****             memcpy(kf->P_data, kf->Pminus_data, sizeof_float * kf->xhatSize * kf->xhatSize);
 761              		.loc 1 397 72 is_stmt 0 view .LVU277
 762 023c 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 397:modules/algorithm/QuaternionEKF.c ****             memcpy(kf->P_data, kf->Pminus_data, sizeof_float * kf->xhatSize * kf->xhatSize);
 763              		.loc 1 397 68 view .LVU278
 764 023e 604D     		ldr	r5, .L57+20
 765 0240 2B88     		ldrh	r3, [r5]
 397:modules/algorithm/QuaternionEKF.c ****             memcpy(kf->P_data, kf->Pminus_data, sizeof_float * kf->xhatSize * kf->xhatSize);
 766              		.loc 1 397 13 view .LVU279
 767 0242 03FB02F2 		mul	r2, r3, r2
 768 0246 D4F8EC10 		ldr	r1, [r4, #236]
 769 024a D4F8E800 		ldr	r0, [r4, #232]
 770 024e FFF7FEFF 		bl	memcpy
 771              	.LVL39:
 398:modules/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = TRUE; // part5 is P updating
 772              		.loc 1 398 13 is_stmt 1 view .LVU280
 398:modules/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = TRUE; // part5 is P updating
 773              		.loc 1 398 66 is_stmt 0 view .LVU281
 774 0252 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 398:modules/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = TRUE; // part5 is P updating
 775              		.loc 1 398 62 view .LVU282
 776 0254 2B88     		ldrh	r3, [r5]
 777 0256 02FB03F3 		mul	r3, r2, r3
 398:modules/algorithm/QuaternionEKF.c ****             kf->SkipEq5 = TRUE; // part5 is P updating
 778              		.loc 1 398 13 view .LVU283
 779 025a 03FB02F2 		mul	r2, r3, r2
 780 025e D4F8FC10 		ldr	r1, [r4, #252]
 781 0262 D4F8F800 		ldr	r0, [r4, #248]
 782 0266 FFF7FEFF 		bl	memcpy
 783              	.LVL40:
 399:modules/algorithm/QuaternionEKF.c ****             return;
 784              		.loc 1 399 13 is_stmt 1 view .LVU284
 399:modules/algorithm/QuaternionEKF.c ****             return;
 785              		.loc 1 399 25 is_stmt 0 view .LVU285
 786 026a 0123     		movs	r3, #1
 787 026c 84F82C30 		strb	r3, [r4, #44]
 400:modules/algorithm/QuaternionEKF.c ****         }
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 28


 788              		.loc 1 400 13 is_stmt 1 view .LVU286
 789 0270 9AE0     		b	.L20
 790              	.L25:
 406:modules/algorithm/QuaternionEKF.c ****         {
 791              		.loc 1 406 9 view .LVU287
 406:modules/algorithm/QuaternionEKF.c ****         {
 792              		.loc 1 406 47 is_stmt 0 view .LVU288
 793 0272 DFED546A 		vldr.32	s13, .L57+24
 794 0276 67EEA66A 		vmul.f32	s13, s15, s13
 406:modules/algorithm/QuaternionEKF.c ****         {
 795              		.loc 1 406 12 view .LVU289
 796 027a B4EEE67A 		vcmpe.f32	s14, s13
 797 027e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 798 0282 0FDD     		ble	.L32
 406:modules/algorithm/QuaternionEKF.c ****         {
 799              		.loc 1 406 92 discriminator 1 view .LVU290
 800 0284 4D4B     		ldr	r3, .L57+16
 801 0286 93F83831 		ldrb	r3, [r3, #312]	@ zero_extendqisi2
 406:modules/algorithm/QuaternionEKF.c ****         {
 802              		.loc 1 406 81 discriminator 1 view .LVU291
 803 028a 5BB1     		cbz	r3, .L32
 408:modules/algorithm/QuaternionEKF.c ****         }
 804              		.loc 1 408 13 is_stmt 1 view .LVU292
 408:modules/algorithm/QuaternionEKF.c ****         }
 805              		.loc 1 408 75 is_stmt 0 view .LVU293
 806 028c 37EEC77A 		vsub.f32	s14, s15, s14
 408:modules/algorithm/QuaternionEKF.c ****         }
 807              		.loc 1 408 113 view .LVU294
 808 0290 DFED4D6A 		vldr.32	s13, .L57+28
 809 0294 67EEA67A 		vmul.f32	s15, s15, s13
 408:modules/algorithm/QuaternionEKF.c ****         }
 810              		.loc 1 408 105 view .LVU295
 811 0298 C7EE276A 		vdiv.f32	s13, s14, s15
 408:modules/algorithm/QuaternionEKF.c ****         }
 812              		.loc 1 408 40 view .LVU296
 813 029c 474B     		ldr	r3, .L57+16
 814 029e C3ED676A 		vstr.32	s13, [r3, #412]
 815 02a2 04E0     		b	.L34
 816              	.L32:
 412:modules/algorithm/QuaternionEKF.c ****         }
 817              		.loc 1 412 13 is_stmt 1 view .LVU297
 412:modules/algorithm/QuaternionEKF.c ****         }
 818              		.loc 1 412 40 is_stmt 0 view .LVU298
 819 02a4 454B     		ldr	r3, .L57+16
 820 02a6 4FF07E52 		mov	r2, #1065353216
 821 02aa C3F89C21 		str	r2, [r3, #412]	@ float
 822              	.L34:
 414:modules/algorithm/QuaternionEKF.c ****         kf->SkipEq5 = FALSE;
 823              		.loc 1 414 9 is_stmt 1 view .LVU299
 414:modules/algorithm/QuaternionEKF.c ****         kf->SkipEq5 = FALSE;
 824              		.loc 1 414 29 is_stmt 0 view .LVU300
 825 02ae 434B     		ldr	r3, .L57+16
 826 02b0 0020     		movs	r0, #0
 827 02b2 0021     		movs	r1, #0
 828 02b4 C3E95001 		strd	r0, [r3, #320]
 415:modules/algorithm/QuaternionEKF.c ****     }
 829              		.loc 1 415 9 is_stmt 1 view .LVU301
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 29


 415:modules/algorithm/QuaternionEKF.c ****     }
 830              		.loc 1 415 21 is_stmt 0 view .LVU302
 831 02b8 0023     		movs	r3, #0
 832 02ba 84F82C30 		strb	r3, [r4, #44]
 833              	.L30:
 419:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->HT.numCols;
 834              		.loc 1 419 5 is_stmt 1 view .LVU303
 419:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->HT.numCols;
 835              		.loc 1 419 41 is_stmt 0 view .LVU304
 836 02be B4F85830 		ldrh	r3, [r4, #88]
 419:modules/algorithm/QuaternionEKF.c ****     kf->temp_matrix.numCols = kf->HT.numCols;
 837              		.loc 1 419 29 view .LVU305
 838 02c2 A4F8A830 		strh	r3, [r4, #168]	@ movhi
 420:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->Pminus, &kf->HT, &kf->temp_matrix); // temp_matrix = P'(k)
 839              		.loc 1 420 5 is_stmt 1 view .LVU306
 420:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->Pminus, &kf->HT, &kf->temp_matrix); // temp_matrix = P'(k)
 840              		.loc 1 420 37 is_stmt 0 view .LVU307
 841 02c6 B4F88230 		ldrh	r3, [r4, #130]
 420:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->Pminus, &kf->HT, &kf->temp_matrix); // temp_matrix = P'(k)
 842              		.loc 1 420 29 view .LVU308
 843 02ca A4F8AA30 		strh	r3, [r4, #170]	@ movhi
 421:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->temp_matrix1, &kf->K);
 844              		.loc 1 421 5 is_stmt 1 view .LVU309
 421:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->temp_matrix1, &kf->K);
 845              		.loc 1 421 21 is_stmt 0 view .LVU310
 846 02ce 4246     		mov	r2, r8
 847 02d0 3946     		mov	r1, r7
 848 02d2 5046     		mov	r0, r10
 849 02d4 FFF7FEFF 		bl	arm_mat_mult_f32
 850              	.LVL41:
 421:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->temp_matrix, &kf->temp_matrix1, &kf->K);
 851              		.loc 1 421 19 view .LVU311
 852 02d8 84F8C800 		strb	r0, [r4, #200]
 422:modules/algorithm/QuaternionEKF.c **** 
 853              		.loc 1 422 5 is_stmt 1 view .LVU312
 422:modules/algorithm/QuaternionEKF.c **** 
 854              		.loc 1 422 21 is_stmt 0 view .LVU313
 855 02dc 04F19807 		add	r7, r4, #152
 856 02e0 3A46     		mov	r2, r7
 857 02e2 4946     		mov	r1, r9
 858 02e4 4046     		mov	r0, r8
 859 02e6 FFF7FEFF 		bl	arm_mat_mult_f32
 860              	.LVL42:
 422:modules/algorithm/QuaternionEKF.c **** 
 861              		.loc 1 422 19 view .LVU314
 862 02ea 84F8C800 		strb	r0, [r4, #200]
 425:modules/algorithm/QuaternionEKF.c ****     {
 863              		.loc 1 425 5 is_stmt 1 view .LVU315
 864              	.LBB4:
 425:modules/algorithm/QuaternionEKF.c ****     {
 865              		.loc 1 425 10 view .LVU316
 866              	.LVL43:
 425:modules/algorithm/QuaternionEKF.c ****     {
 867              		.loc 1 425 18 is_stmt 0 view .LVU317
 868 02ee 0023     		movs	r3, #0
 425:modules/algorithm/QuaternionEKF.c ****     {
 869              		.loc 1 425 5 view .LVU318
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 30


 870 02f0 0EE0     		b	.L35
 871              	.LVL44:
 872              	.L36:
 427:modules/algorithm/QuaternionEKF.c ****     }
 873              		.loc 1 427 9 is_stmt 1 discriminator 3 view .LVU319
 427:modules/algorithm/QuaternionEKF.c ****     }
 874              		.loc 1 427 11 is_stmt 0 discriminator 3 view .LVU320
 875 02f2 D4F81C21 		ldr	r2, [r4, #284]
 427:modules/algorithm/QuaternionEKF.c ****     }
 876              		.loc 1 427 23 discriminator 3 view .LVU321
 877 02f6 02EB8302 		add	r2, r2, r3, lsl #2
 427:modules/algorithm/QuaternionEKF.c ****     }
 878              		.loc 1 427 34 discriminator 3 view .LVU322
 879 02fa 3049     		ldr	r1, .L57+16
 880 02fc 91ED677A 		vldr.32	s14, [r1, #412]
 427:modules/algorithm/QuaternionEKF.c ****     }
 881              		.loc 1 427 23 discriminator 3 view .LVU323
 882 0300 D2ED007A 		vldr.32	s15, [r2]
 883 0304 67EE877A 		vmul.f32	s15, s15, s14
 884 0308 C2ED007A 		vstr.32	s15, [r2]
 425:modules/algorithm/QuaternionEKF.c ****     {
 885              		.loc 1 425 60 is_stmt 1 discriminator 3 view .LVU324
 886 030c 0133     		adds	r3, r3, #1
 887              	.LVL45:
 425:modules/algorithm/QuaternionEKF.c ****     {
 888              		.loc 1 425 60 is_stmt 0 discriminator 3 view .LVU325
 889 030e DBB2     		uxtb	r3, r3
 890              	.LVL46:
 891              	.L35:
 425:modules/algorithm/QuaternionEKF.c ****     {
 892              		.loc 1 425 25 is_stmt 1 discriminator 1 view .LVU326
 425:modules/algorithm/QuaternionEKF.c ****     {
 893              		.loc 1 425 34 is_stmt 0 discriminator 1 view .LVU327
 894 0310 B4F89820 		ldrh	r2, [r4, #152]
 425:modules/algorithm/QuaternionEKF.c ****     {
 895              		.loc 1 425 50 discriminator 1 view .LVU328
 896 0314 B4F89A10 		ldrh	r1, [r4, #154]
 425:modules/algorithm/QuaternionEKF.c ****     {
 897              		.loc 1 425 43 discriminator 1 view .LVU329
 898 0318 01FB02F2 		mul	r2, r1, r2
 425:modules/algorithm/QuaternionEKF.c ****     {
 899              		.loc 1 425 5 discriminator 1 view .LVU330
 900 031c 9342     		cmp	r3, r2
 901 031e E8DB     		blt	.L36
 902              	.LBE4:
 903              	.LBB5:
 429:modules/algorithm/QuaternionEKF.c ****     {
 904              		.loc 1 429 18 view .LVU331
 905 0320 0422     		movs	r2, #4
 906 0322 01E0     		b	.L37
 907              	.LVL47:
 908              	.L56:
 429:modules/algorithm/QuaternionEKF.c ****     {
 909              		.loc 1 429 32 is_stmt 1 discriminator 2 view .LVU332
 910 0324 0132     		adds	r2, r2, #1
 911              	.LVL48:
 429:modules/algorithm/QuaternionEKF.c ****     {
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 31


 912              		.loc 1 429 32 is_stmt 0 discriminator 2 view .LVU333
 913 0326 D2B2     		uxtb	r2, r2
 914              	.LVL49:
 915              	.L37:
 429:modules/algorithm/QuaternionEKF.c ****     {
 916              		.loc 1 429 25 is_stmt 1 discriminator 1 view .LVU334
 429:modules/algorithm/QuaternionEKF.c ****     {
 917              		.loc 1 429 5 is_stmt 0 discriminator 1 view .LVU335
 918 0328 052A     		cmp	r2, #5
 919 032a 1DD8     		bhi	.L55
 920              	.LBB6:
 431:modules/algorithm/QuaternionEKF.c ****         {
 921              		.loc 1 431 22 view .LVU336
 922 032c 0023     		movs	r3, #0
 923              	.L39:
 924              	.LVL50:
 431:modules/algorithm/QuaternionEKF.c ****         {
 925              		.loc 1 431 29 is_stmt 1 discriminator 1 view .LVU337
 431:modules/algorithm/QuaternionEKF.c ****         {
 926              		.loc 1 431 9 is_stmt 0 discriminator 1 view .LVU338
 927 032e 022B     		cmp	r3, #2
 928 0330 F8D8     		bhi	.L56
 433:modules/algorithm/QuaternionEKF.c ****         }
 929              		.loc 1 433 13 is_stmt 1 discriminator 3 view .LVU339
 433:modules/algorithm/QuaternionEKF.c ****         }
 930              		.loc 1 433 15 is_stmt 0 discriminator 3 view .LVU340
 931 0332 D4F81C11 		ldr	r1, [r4, #284]
 433:modules/algorithm/QuaternionEKF.c ****         }
 932              		.loc 1 433 35 discriminator 3 view .LVU341
 933 0336 02EB4200 		add	r0, r2, r2, lsl #1
 934 033a 1844     		add	r0, r0, r3
 935 033c 01EB8001 		add	r1, r1, r0, lsl #2
 433:modules/algorithm/QuaternionEKF.c ****         }
 936              		.loc 1 433 64 discriminator 3 view .LVU342
 937 0340 02F15C0C 		add	ip, r2, #92
 938 0344 1D48     		ldr	r0, .L57+16
 939 0346 00EB8C00 		add	r0, r0, ip, lsl #2
 940 034a D0ED016A 		vldr.32	s13, [r0, #4]
 433:modules/algorithm/QuaternionEKF.c ****         }
 941              		.loc 1 433 72 discriminator 3 view .LVU343
 942 034e DFED1F7A 		vldr.32	s15, .L57+32
 943 0352 86EEA77A 		vdiv.f32	s14, s13, s15
 433:modules/algorithm/QuaternionEKF.c ****         }
 944              		.loc 1 433 35 discriminator 3 view .LVU344
 945 0356 D1ED007A 		vldr.32	s15, [r1]
 946 035a 67EE877A 		vmul.f32	s15, s15, s14
 947 035e C1ED007A 		vstr.32	s15, [r1]
 431:modules/algorithm/QuaternionEKF.c ****         {
 948              		.loc 1 431 36 is_stmt 1 discriminator 3 view .LVU345
 949 0362 0133     		adds	r3, r3, #1
 950              	.LVL51:
 431:modules/algorithm/QuaternionEKF.c ****         {
 951              		.loc 1 431 36 is_stmt 0 discriminator 3 view .LVU346
 952 0364 DBB2     		uxtb	r3, r3
 953              	.LVL52:
 431:modules/algorithm/QuaternionEKF.c ****         {
 954              		.loc 1 431 36 discriminator 3 view .LVU347
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 32


 955 0366 E2E7     		b	.L39
 956              	.LVL53:
 957              	.L55:
 431:modules/algorithm/QuaternionEKF.c ****         {
 958              		.loc 1 431 36 discriminator 3 view .LVU348
 959              	.LBE6:
 960              	.LBE5:
 437:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 961              		.loc 1 437 5 is_stmt 1 view .LVU349
 437:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 962              		.loc 1 437 36 is_stmt 0 view .LVU350
 963 0368 B4F89830 		ldrh	r3, [r4, #152]
 437:modules/algorithm/QuaternionEKF.c ****     kf->temp_vector.numCols = 1;
 964              		.loc 1 437 29 view .LVU351
 965 036c A4F8B830 		strh	r3, [r4, #184]	@ movhi
 438:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->K, &kf->temp_vector1, &kf->temp_vector); // temp_vector = 
 966              		.loc 1 438 5 is_stmt 1 view .LVU352
 438:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Multiply(&kf->K, &kf->temp_vector1, &kf->temp_vector); // temp_vector = 
 967              		.loc 1 438 29 is_stmt 0 view .LVU353
 968 0370 0123     		movs	r3, #1
 969 0372 A4F8BA30 		strh	r3, [r4, #186]	@ movhi
 439:modules/algorithm/QuaternionEKF.c **** 
 970              		.loc 1 439 5 is_stmt 1 view .LVU354
 439:modules/algorithm/QuaternionEKF.c **** 
 971              		.loc 1 439 21 is_stmt 0 view .LVU355
 972 0376 2A46     		mov	r2, r5
 973              	.LVL54:
 439:modules/algorithm/QuaternionEKF.c **** 
 974              		.loc 1 439 21 view .LVU356
 975 0378 3146     		mov	r1, r6
 976 037a 3846     		mov	r0, r7
 977 037c FFF7FEFF 		bl	arm_mat_mult_f32
 978              	.LVL55:
 439:modules/algorithm/QuaternionEKF.c **** 
 979              		.loc 1 439 19 view .LVU357
 980 0380 84F8C800 		strb	r0, [r4, #200]
 442:modules/algorithm/QuaternionEKF.c ****     {
 981              		.loc 1 442 5 is_stmt 1 view .LVU358
 442:modules/algorithm/QuaternionEKF.c ****     {
 982              		.loc 1 442 17 is_stmt 0 view .LVU359
 983 0384 0D4B     		ldr	r3, .L57+16
 984 0386 93F83831 		ldrb	r3, [r3, #312]	@ zero_extendqisi2
 442:modules/algorithm/QuaternionEKF.c ****     {
 985              		.loc 1 442 8 view .LVU360
 986 038a 002B     		cmp	r3, #0
 987 038c 4DD1     		bne	.L48
 988              	.L41:
 458:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->xhatminus, &kf->temp_vector, &kf->xhat);
 989              		.loc 1 458 5 is_stmt 1 view .LVU361
 458:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->xhatminus, &kf->temp_vector, &kf->xhat);
 990              		.loc 1 458 20 is_stmt 0 view .LVU362
 991 038e D4F8BC30 		ldr	r3, [r4, #188]
 458:modules/algorithm/QuaternionEKF.c ****     kf->MatStatus = Matrix_Add(&kf->xhatminus, &kf->temp_vector, &kf->xhat);
 992              		.loc 1 458 30 view .LVU363
 993 0392 0022     		movs	r2, #0
 994 0394 DA60     		str	r2, [r3, #12]	@ float
 459:modules/algorithm/QuaternionEKF.c **** }
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 33


 995              		.loc 1 459 5 is_stmt 1 view .LVU364
 459:modules/algorithm/QuaternionEKF.c **** }
 996              		.loc 1 459 21 is_stmt 0 view .LVU365
 997 0396 04F13002 		add	r2, r4, #48
 998 039a 2946     		mov	r1, r5
 999 039c 04F13800 		add	r0, r4, #56
 1000 03a0 FFF7FEFF 		bl	arm_mat_add_f32
 1001              	.LVL56:
 459:modules/algorithm/QuaternionEKF.c **** }
 1002              		.loc 1 459 19 view .LVU366
 1003 03a4 84F8C800 		strb	r0, [r4, #200]
 1004              	.L20:
 460:modules/algorithm/QuaternionEKF.c **** 
 1005              		.loc 1 460 1 view .LVU367
 1006 03a8 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1007              	.LVL57:
 1008              	.L58:
 460:modules/algorithm/QuaternionEKF.c **** 
 1009              		.loc 1 460 1 view .LVU368
 1010              		.align	2
 1011              	.L57:
 1012 03ac 00000000 		.word	.LANCHOR9
 1013 03b0 00000000 		.word	.LANCHOR10
 1014 03b4 00000000 		.word	.LANCHOR11
 1015 03b8 00000000 		.word	.LANCHOR12
 1016 03bc 00000000 		.word	.LANCHOR5
 1017 03c0 00000000 		.word	sizeof_float
 1018 03c4 CDCCCC3D 		.word	1036831949
 1019 03c8 6666663F 		.word	1063675494
 1020 03cc DA0FC93F 		.word	1070141402
 1021              	.LVL58:
 1022              	.L44:
 1023              	.LBB7:
 444:modules/algorithm/QuaternionEKF.c ****         {
 1024              		.loc 1 444 36 is_stmt 1 discriminator 2 view .LVU369
 1025 03d0 0133     		adds	r3, r3, #1
 1026              	.LVL59:
 444:modules/algorithm/QuaternionEKF.c ****         {
 1027              		.loc 1 444 36 is_stmt 0 discriminator 2 view .LVU370
 1028 03d2 DBB2     		uxtb	r3, r3
 1029              	.LVL60:
 1030              	.L40:
 444:modules/algorithm/QuaternionEKF.c ****         {
 1031              		.loc 1 444 29 is_stmt 1 discriminator 1 view .LVU371
 444:modules/algorithm/QuaternionEKF.c ****         {
 1032              		.loc 1 444 9 is_stmt 0 discriminator 1 view .LVU372
 1033 03d4 052B     		cmp	r3, #5
 1034 03d6 DAD8     		bhi	.L41
 446:modules/algorithm/QuaternionEKF.c ****             {
 1035              		.loc 1 446 13 is_stmt 1 view .LVU373
 446:modules/algorithm/QuaternionEKF.c ****             {
 1036              		.loc 1 446 32 is_stmt 0 view .LVU374
 1037 03d8 D4F8BC10 		ldr	r1, [r4, #188]
 446:modules/algorithm/QuaternionEKF.c ****             {
 1038              		.loc 1 446 38 view .LVU375
 1039 03dc 9800     		lsls	r0, r3, #2
 1040 03de 01EB8301 		add	r1, r1, r3, lsl #2
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 34


 1041 03e2 91ED007A 		vldr.32	s14, [r1]
 446:modules/algorithm/QuaternionEKF.c ****             {
 1042              		.loc 1 446 60 view .LVU376
 1043 03e6 124A     		ldr	r2, .L59
 1044 03e8 D2ED6F7A 		vldr.32	s15, [r2, #444]
 446:modules/algorithm/QuaternionEKF.c ****             {
 1045              		.loc 1 446 50 view .LVU377
 1046 03ec DFED116A 		vldr.32	s13, .L59+4
 1047 03f0 67EEA67A 		vmul.f32	s15, s15, s13
 446:modules/algorithm/QuaternionEKF.c ****             {
 1048              		.loc 1 446 16 view .LVU378
 1049 03f4 B4EEE77A 		vcmpe.f32	s14, s15
 1050 03f8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1051 03fc 01DD     		ble	.L42
 448:modules/algorithm/QuaternionEKF.c ****             }
 1052              		.loc 1 448 17 is_stmt 1 view .LVU379
 448:modules/algorithm/QuaternionEKF.c ****             }
 1053              		.loc 1 448 42 is_stmt 0 view .LVU380
 1054 03fe C1ED007A 		vstr.32	s15, [r1]
 1055              	.L42:
 450:modules/algorithm/QuaternionEKF.c ****             {
 1056              		.loc 1 450 13 is_stmt 1 view .LVU381
 450:modules/algorithm/QuaternionEKF.c ****             {
 1057              		.loc 1 450 32 is_stmt 0 view .LVU382
 1058 0402 D4F8BC20 		ldr	r2, [r4, #188]
 450:modules/algorithm/QuaternionEKF.c ****             {
 1059              		.loc 1 450 38 view .LVU383
 1060 0406 0244     		add	r2, r2, r0
 1061 0408 92ED007A 		vldr.32	s14, [r2]
 450:modules/algorithm/QuaternionEKF.c ****             {
 1062              		.loc 1 450 61 view .LVU384
 1063 040c 0849     		ldr	r1, .L59
 1064 040e D1ED6F7A 		vldr.32	s15, [r1, #444]
 450:modules/algorithm/QuaternionEKF.c ****             {
 1065              		.loc 1 450 51 view .LVU385
 1066 0412 DFED096A 		vldr.32	s13, .L59+8
 1067 0416 67EEA67A 		vmul.f32	s15, s15, s13
 450:modules/algorithm/QuaternionEKF.c ****             {
 1068              		.loc 1 450 16 view .LVU386
 1069 041a B4EEE77A 		vcmpe.f32	s14, s15
 1070 041e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1071 0422 D5D5     		bpl	.L44
 452:modules/algorithm/QuaternionEKF.c ****             }
 1072              		.loc 1 452 17 is_stmt 1 view .LVU387
 452:modules/algorithm/QuaternionEKF.c ****             }
 1073              		.loc 1 452 42 is_stmt 0 view .LVU388
 1074 0424 C2ED007A 		vstr.32	s15, [r2]
 1075 0428 D2E7     		b	.L44
 1076              	.LVL61:
 1077              	.L48:
 444:modules/algorithm/QuaternionEKF.c ****         {
 1078              		.loc 1 444 22 view .LVU389
 1079 042a 0423     		movs	r3, #4
 1080 042c D2E7     		b	.L40
 1081              	.L60:
 1082 042e 00BF     		.align	2
 1083              	.L59:
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 35


 1084 0430 00000000 		.word	.LANCHOR5
 1085 0434 0AD7233C 		.word	1008981770
 1086 0438 0AD723BC 		.word	-1138501878
 1087              	.LBE7:
 1088              		.cfi_endproc
 1089              	.LFE167:
 1091              		.section	.text.IMU_QuaternionEKF_SetH,"ax",%progbits
 1092              		.align	1
 1093              		.syntax unified
 1094              		.thumb
 1095              		.thumb_func
 1097              	IMU_QuaternionEKF_SetH:
 1098              	.LVL62:
 1099              	.LFB166:
 283:modules/algorithm/QuaternionEKF.c ****     static float doubleq0, doubleq1, doubleq2, doubleq3;
 1100              		.loc 1 283 1 is_stmt 1 view -0
 1101              		.cfi_startproc
 1102              		@ args = 0, pretend = 0, frame = 0
 1103              		@ frame_needed = 0, uses_anonymous_args = 0
 283:modules/algorithm/QuaternionEKF.c ****     static float doubleq0, doubleq1, doubleq2, doubleq3;
 1104              		.loc 1 283 1 is_stmt 0 view .LVU391
 1105 0000 10B5     		push	{r4, lr}
 1106              	.LCFI5:
 1107              		.cfi_def_cfa_offset 8
 1108              		.cfi_offset 4, -8
 1109              		.cfi_offset 14, -4
 1110 0002 2DED048B 		vpush.64	{d8, d9}
 1111              	.LCFI6:
 1112              		.cfi_def_cfa_offset 24
 1113              		.cfi_offset 80, -24
 1114              		.cfi_offset 81, -20
 1115              		.cfi_offset 82, -16
 1116              		.cfi_offset 83, -12
 1117 0006 0446     		mov	r4, r0
 284:modules/algorithm/QuaternionEKF.c ****     /* H
 1118              		.loc 1 284 5 is_stmt 1 view .LVU392
 292:modules/algorithm/QuaternionEKF.c ****     doubleq1 = 2 * kf->xhatminus_data[1];
 1119              		.loc 1 292 5 view .LVU393
 292:modules/algorithm/QuaternionEKF.c ****     doubleq1 = 2 * kf->xhatminus_data[1];
 1120              		.loc 1 292 22 is_stmt 0 view .LVU394
 1121 0008 D0F8EC30 		ldr	r3, [r0, #236]
 292:modules/algorithm/QuaternionEKF.c ****     doubleq1 = 2 * kf->xhatminus_data[1];
 1122              		.loc 1 292 38 view .LVU395
 1123 000c 93ED009A 		vldr.32	s18, [r3]
 292:modules/algorithm/QuaternionEKF.c ****     doubleq1 = 2 * kf->xhatminus_data[1];
 1124              		.loc 1 292 18 view .LVU396
 1125 0010 39EE099A 		vadd.f32	s18, s18, s18
 292:modules/algorithm/QuaternionEKF.c ****     doubleq1 = 2 * kf->xhatminus_data[1];
 1126              		.loc 1 292 14 view .LVU397
 1127 0014 2E4A     		ldr	r2, .L63
 1128 0016 82ED009A 		vstr.32	s18, [r2]
 293:modules/algorithm/QuaternionEKF.c ****     doubleq2 = 2 * kf->xhatminus_data[2];
 1129              		.loc 1 293 5 is_stmt 1 view .LVU398
 293:modules/algorithm/QuaternionEKF.c ****     doubleq2 = 2 * kf->xhatminus_data[2];
 1130              		.loc 1 293 38 is_stmt 0 view .LVU399
 1131 001a 93ED018A 		vldr.32	s16, [r3, #4]
 293:modules/algorithm/QuaternionEKF.c ****     doubleq2 = 2 * kf->xhatminus_data[2];
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 36


 1132              		.loc 1 293 18 view .LVU400
 1133 001e 38EE088A 		vadd.f32	s16, s16, s16
 293:modules/algorithm/QuaternionEKF.c ****     doubleq2 = 2 * kf->xhatminus_data[2];
 1134              		.loc 1 293 14 view .LVU401
 1135 0022 2C4A     		ldr	r2, .L63+4
 1136 0024 82ED008A 		vstr.32	s16, [r2]
 294:modules/algorithm/QuaternionEKF.c ****     doubleq3 = 2 * kf->xhatminus_data[3];
 1137              		.loc 1 294 5 is_stmt 1 view .LVU402
 294:modules/algorithm/QuaternionEKF.c ****     doubleq3 = 2 * kf->xhatminus_data[3];
 1138              		.loc 1 294 38 is_stmt 0 view .LVU403
 1139 0028 D3ED029A 		vldr.32	s19, [r3, #8]
 294:modules/algorithm/QuaternionEKF.c ****     doubleq3 = 2 * kf->xhatminus_data[3];
 1140              		.loc 1 294 18 view .LVU404
 1141 002c 79EEA99A 		vadd.f32	s19, s19, s19
 294:modules/algorithm/QuaternionEKF.c ****     doubleq3 = 2 * kf->xhatminus_data[3];
 1142              		.loc 1 294 14 view .LVU405
 1143 0030 294A     		ldr	r2, .L63+8
 1144 0032 C2ED009A 		vstr.32	s19, [r2]
 295:modules/algorithm/QuaternionEKF.c **** 
 1145              		.loc 1 295 5 is_stmt 1 view .LVU406
 295:modules/algorithm/QuaternionEKF.c **** 
 1146              		.loc 1 295 38 is_stmt 0 view .LVU407
 1147 0036 D3ED038A 		vldr.32	s17, [r3, #12]
 295:modules/algorithm/QuaternionEKF.c **** 
 1148              		.loc 1 295 18 view .LVU408
 1149 003a 78EEA88A 		vadd.f32	s17, s17, s17
 295:modules/algorithm/QuaternionEKF.c **** 
 1150              		.loc 1 295 14 view .LVU409
 1151 003e 274B     		ldr	r3, .L63+12
 1152 0040 C3ED008A 		vstr.32	s17, [r3]
 297:modules/algorithm/QuaternionEKF.c **** 
 1153              		.loc 1 297 5 is_stmt 1 view .LVU410
 297:modules/algorithm/QuaternionEKF.c **** 
 1154              		.loc 1 297 44 is_stmt 0 view .LVU411
 1155 0044 827B     		ldrb	r2, [r0, #14]	@ zero_extendqisi2
 297:modules/algorithm/QuaternionEKF.c **** 
 1156              		.loc 1 297 40 view .LVU412
 1157 0046 264B     		ldr	r3, .L63+16
 1158 0048 1B88     		ldrh	r3, [r3]
 1159 004a 02FB03F3 		mul	r3, r2, r3
 297:modules/algorithm/QuaternionEKF.c **** 
 1160              		.loc 1 297 56 view .LVU413
 1161 004e 027B     		ldrb	r2, [r0, #12]	@ zero_extendqisi2
 297:modules/algorithm/QuaternionEKF.c **** 
 1162              		.loc 1 297 5 view .LVU414
 1163 0050 03FB02F2 		mul	r2, r3, r2
 1164 0054 0021     		movs	r1, #0
 1165 0056 D0F80C01 		ldr	r0, [r0, #268]
 1166              	.LVL63:
 297:modules/algorithm/QuaternionEKF.c **** 
 1167              		.loc 1 297 5 view .LVU415
 1168 005a FFF7FEFF 		bl	memset
 1169              	.LVL64:
 299:modules/algorithm/QuaternionEKF.c ****     kf->H_data[1] = doubleq3;
 1170              		.loc 1 299 5 is_stmt 1 view .LVU416
 299:modules/algorithm/QuaternionEKF.c ****     kf->H_data[1] = doubleq3;
 1171              		.loc 1 299 7 is_stmt 0 view .LVU417
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 37


 1172 005e D4F80C31 		ldr	r3, [r4, #268]
 299:modules/algorithm/QuaternionEKF.c ****     kf->H_data[1] = doubleq3;
 1173              		.loc 1 299 21 view .LVU418
 1174 0062 F1EE697A 		vneg.f32	s15, s19
 299:modules/algorithm/QuaternionEKF.c ****     kf->H_data[1] = doubleq3;
 1175              		.loc 1 299 19 view .LVU419
 1176 0066 C3ED007A 		vstr.32	s15, [r3]
 300:modules/algorithm/QuaternionEKF.c ****     kf->H_data[2] = -doubleq0;
 1177              		.loc 1 300 5 is_stmt 1 view .LVU420
 300:modules/algorithm/QuaternionEKF.c ****     kf->H_data[2] = -doubleq0;
 1178              		.loc 1 300 7 is_stmt 0 view .LVU421
 1179 006a D4F80C31 		ldr	r3, [r4, #268]
 300:modules/algorithm/QuaternionEKF.c ****     kf->H_data[2] = -doubleq0;
 1180              		.loc 1 300 19 view .LVU422
 1181 006e C3ED018A 		vstr.32	s17, [r3, #4]
 301:modules/algorithm/QuaternionEKF.c ****     kf->H_data[3] = doubleq1;
 1182              		.loc 1 301 5 is_stmt 1 view .LVU423
 301:modules/algorithm/QuaternionEKF.c ****     kf->H_data[3] = doubleq1;
 1183              		.loc 1 301 7 is_stmt 0 view .LVU424
 1184 0072 D4F80C31 		ldr	r3, [r4, #268]
 301:modules/algorithm/QuaternionEKF.c ****     kf->H_data[3] = doubleq1;
 1185              		.loc 1 301 21 view .LVU425
 1186 0076 B1EE497A 		vneg.f32	s14, s18
 301:modules/algorithm/QuaternionEKF.c ****     kf->H_data[3] = doubleq1;
 1187              		.loc 1 301 19 view .LVU426
 1188 007a 83ED027A 		vstr.32	s14, [r3, #8]
 302:modules/algorithm/QuaternionEKF.c **** 
 1189              		.loc 1 302 5 is_stmt 1 view .LVU427
 302:modules/algorithm/QuaternionEKF.c **** 
 1190              		.loc 1 302 7 is_stmt 0 view .LVU428
 1191 007e D4F80C31 		ldr	r3, [r4, #268]
 302:modules/algorithm/QuaternionEKF.c **** 
 1192              		.loc 1 302 19 view .LVU429
 1193 0082 83ED038A 		vstr.32	s16, [r3, #12]
 304:modules/algorithm/QuaternionEKF.c ****     kf->H_data[7] = doubleq0;
 1194              		.loc 1 304 5 is_stmt 1 view .LVU430
 304:modules/algorithm/QuaternionEKF.c ****     kf->H_data[7] = doubleq0;
 1195              		.loc 1 304 7 is_stmt 0 view .LVU431
 1196 0086 D4F80C31 		ldr	r3, [r4, #268]
 304:modules/algorithm/QuaternionEKF.c ****     kf->H_data[7] = doubleq0;
 1197              		.loc 1 304 19 view .LVU432
 1198 008a 83ED068A 		vstr.32	s16, [r3, #24]
 305:modules/algorithm/QuaternionEKF.c ****     kf->H_data[8] = doubleq3;
 1199              		.loc 1 305 5 is_stmt 1 view .LVU433
 305:modules/algorithm/QuaternionEKF.c ****     kf->H_data[8] = doubleq3;
 1200              		.loc 1 305 7 is_stmt 0 view .LVU434
 1201 008e D4F80C31 		ldr	r3, [r4, #268]
 305:modules/algorithm/QuaternionEKF.c ****     kf->H_data[8] = doubleq3;
 1202              		.loc 1 305 19 view .LVU435
 1203 0092 83ED079A 		vstr.32	s18, [r3, #28]
 306:modules/algorithm/QuaternionEKF.c ****     kf->H_data[9] = doubleq2;
 1204              		.loc 1 306 5 is_stmt 1 view .LVU436
 306:modules/algorithm/QuaternionEKF.c ****     kf->H_data[9] = doubleq2;
 1205              		.loc 1 306 7 is_stmt 0 view .LVU437
 1206 0096 D4F80C31 		ldr	r3, [r4, #268]
 306:modules/algorithm/QuaternionEKF.c ****     kf->H_data[9] = doubleq2;
 1207              		.loc 1 306 19 view .LVU438
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 38


 1208 009a C3ED088A 		vstr.32	s17, [r3, #32]
 307:modules/algorithm/QuaternionEKF.c **** 
 1209              		.loc 1 307 5 is_stmt 1 view .LVU439
 307:modules/algorithm/QuaternionEKF.c **** 
 1210              		.loc 1 307 7 is_stmt 0 view .LVU440
 1211 009e D4F80C31 		ldr	r3, [r4, #268]
 307:modules/algorithm/QuaternionEKF.c **** 
 1212              		.loc 1 307 19 view .LVU441
 1213 00a2 C3ED099A 		vstr.32	s19, [r3, #36]
 309:modules/algorithm/QuaternionEKF.c ****     kf->H_data[13] = -doubleq1;
 1214              		.loc 1 309 5 is_stmt 1 view .LVU442
 309:modules/algorithm/QuaternionEKF.c ****     kf->H_data[13] = -doubleq1;
 1215              		.loc 1 309 7 is_stmt 0 view .LVU443
 1216 00a6 D4F80C31 		ldr	r3, [r4, #268]
 309:modules/algorithm/QuaternionEKF.c ****     kf->H_data[13] = -doubleq1;
 1217              		.loc 1 309 20 view .LVU444
 1218 00aa 83ED0C9A 		vstr.32	s18, [r3, #48]
 310:modules/algorithm/QuaternionEKF.c ****     kf->H_data[14] = -doubleq2;
 1219              		.loc 1 310 5 is_stmt 1 view .LVU445
 310:modules/algorithm/QuaternionEKF.c ****     kf->H_data[14] = -doubleq2;
 1220              		.loc 1 310 7 is_stmt 0 view .LVU446
 1221 00ae D4F80C31 		ldr	r3, [r4, #268]
 310:modules/algorithm/QuaternionEKF.c ****     kf->H_data[14] = -doubleq2;
 1222              		.loc 1 310 22 view .LVU447
 1223 00b2 B1EE488A 		vneg.f32	s16, s16
 310:modules/algorithm/QuaternionEKF.c ****     kf->H_data[14] = -doubleq2;
 1224              		.loc 1 310 20 view .LVU448
 1225 00b6 83ED0D8A 		vstr.32	s16, [r3, #52]
 311:modules/algorithm/QuaternionEKF.c ****     kf->H_data[15] = doubleq3;
 1226              		.loc 1 311 5 is_stmt 1 view .LVU449
 311:modules/algorithm/QuaternionEKF.c ****     kf->H_data[15] = doubleq3;
 1227              		.loc 1 311 7 is_stmt 0 view .LVU450
 1228 00ba D4F80C31 		ldr	r3, [r4, #268]
 311:modules/algorithm/QuaternionEKF.c ****     kf->H_data[15] = doubleq3;
 1229              		.loc 1 311 20 view .LVU451
 1230 00be C3ED0E7A 		vstr.32	s15, [r3, #56]
 312:modules/algorithm/QuaternionEKF.c **** }
 1231              		.loc 1 312 5 is_stmt 1 view .LVU452
 312:modules/algorithm/QuaternionEKF.c **** }
 1232              		.loc 1 312 7 is_stmt 0 view .LVU453
 1233 00c2 D4F80C31 		ldr	r3, [r4, #268]
 312:modules/algorithm/QuaternionEKF.c **** }
 1234              		.loc 1 312 20 view .LVU454
 1235 00c6 C3ED0F8A 		vstr.32	s17, [r3, #60]
 313:modules/algorithm/QuaternionEKF.c **** 
 1236              		.loc 1 313 1 view .LVU455
 1237 00ca BDEC048B 		vldm	sp!, {d8-d9}
 1238              	.LCFI7:
 1239              		.cfi_restore 82
 1240              		.cfi_restore 83
 1241              		.cfi_restore 80
 1242              		.cfi_restore 81
 1243              		.cfi_def_cfa_offset 8
 1244 00ce 10BD     		pop	{r4, pc}
 1245              	.LVL65:
 1246              	.L64:
 313:modules/algorithm/QuaternionEKF.c **** 
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 39


 1247              		.loc 1 313 1 view .LVU456
 1248              		.align	2
 1249              	.L63:
 1250 00d0 00000000 		.word	.LANCHOR13
 1251 00d4 00000000 		.word	.LANCHOR14
 1252 00d8 00000000 		.word	.LANCHOR15
 1253 00dc 00000000 		.word	.LANCHOR16
 1254 00e0 00000000 		.word	sizeof_float
 1255              		.cfi_endproc
 1256              	.LFE166:
 1258              		.section	.text.IMU_QuaternionEKF_Init,"ax",%progbits
 1259              		.align	1
 1260              		.global	IMU_QuaternionEKF_Init
 1261              		.syntax unified
 1262              		.thumb
 1263              		.thumb_func
 1265              	IMU_QuaternionEKF_Init:
 1266              	.LVL66:
 1267              	.LFB163:
  51:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Initialized = 1;
 1268              		.loc 1 51 1 is_stmt 1 view -0
 1269              		.cfi_startproc
 1270              		@ args = 0, pretend = 0, frame = 0
 1271              		@ frame_needed = 0, uses_anonymous_args = 0
  51:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Initialized = 1;
 1272              		.loc 1 51 1 is_stmt 0 view .LVU458
 1273 0000 38B5     		push	{r3, r4, r5, lr}
 1274              	.LCFI8:
 1275              		.cfi_def_cfa_offset 16
 1276              		.cfi_offset 3, -16
 1277              		.cfi_offset 4, -12
 1278              		.cfi_offset 5, -8
 1279              		.cfi_offset 14, -4
 1280 0002 0446     		mov	r4, r0
  52:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Q1 = process_noise1;
 1281              		.loc 1 52 5 is_stmt 1 view .LVU459
  52:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Q1 = process_noise1;
 1282              		.loc 1 52 26 is_stmt 0 view .LVU460
 1283 0004 2F4B     		ldr	r3, .L71
 1284 0006 0122     		movs	r2, #1
 1285 0008 1A70     		strb	r2, [r3]
  53:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Q2 = process_noise2;
 1286              		.loc 1 53 5 is_stmt 1 view .LVU461
  53:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Q2 = process_noise2;
 1287              		.loc 1 53 17 is_stmt 0 view .LVU462
 1288 000a 83ED6C0A 		vstr.32	s0, [r3, #432]
  54:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.R = measure_noise;
 1289              		.loc 1 54 5 is_stmt 1 view .LVU463
  54:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.R = measure_noise;
 1290              		.loc 1 54 17 is_stmt 0 view .LVU464
 1291 000e C3ED6D0A 		vstr.32	s1, [r3, #436]
  55:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.ChiSquareTestThreshold = 1e-8;
 1292              		.loc 1 55 5 is_stmt 1 view .LVU465
  55:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.ChiSquareTestThreshold = 1e-8;
 1293              		.loc 1 55 16 is_stmt 0 view .LVU466
 1294 0012 83ED6E1A 		vstr.32	s2, [r3, #440]
  56:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.ConvergeFlag = 0;
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 40


 1295              		.loc 1 56 5 is_stmt 1 view .LVU467
  56:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.ConvergeFlag = 0;
 1296              		.loc 1 56 37 is_stmt 0 view .LVU468
 1297 0016 2C4A     		ldr	r2, .L71+4
 1298 0018 C3F8CC21 		str	r2, [r3, #460]	@ float
  57:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.ErrorCount = 0;
 1299              		.loc 1 57 5 is_stmt 1 view .LVU469
  57:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.ErrorCount = 0;
 1300              		.loc 1 57 27 is_stmt 0 view .LVU470
 1301 001c 0022     		movs	r2, #0
 1302 001e 83F83821 		strb	r2, [r3, #312]
  58:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount = 0;
 1303              		.loc 1 58 5 is_stmt 1 view .LVU471
  58:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount = 0;
 1304              		.loc 1 58 25 is_stmt 0 view .LVU472
 1305 0022 0020     		movs	r0, #0
 1306              	.LVL67:
  58:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount = 0;
 1307              		.loc 1 58 25 view .LVU473
 1308 0024 0021     		movs	r1, #0
 1309 0026 C3E95001 		strd	r0, [r3, #320]
  59:modules/algorithm/QuaternionEKF.c ****     if (lambda > 1)
 1310              		.loc 1 59 5 is_stmt 1 view .LVU474
  59:modules/algorithm/QuaternionEKF.c ****     if (lambda > 1)
 1311              		.loc 1 59 26 is_stmt 0 view .LVU475
 1312 002a C3E95201 		strd	r0, [r3, #328]
  60:modules/algorithm/QuaternionEKF.c ****     {
 1313              		.loc 1 60 5 is_stmt 1 view .LVU476
  60:modules/algorithm/QuaternionEKF.c ****     {
 1314              		.loc 1 60 8 is_stmt 0 view .LVU477
 1315 002e F7EE007A 		vmov.f32	s15, #1.0e+0
 1316 0032 F4EEE71A 		vcmpe.f32	s3, s15
 1317 0036 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1318 003a 01DD     		ble	.L66
  62:modules/algorithm/QuaternionEKF.c ****     }
 1319              		.loc 1 62 16 view .LVU478
 1320 003c F0EE671A 		vmov.f32	s3, s15
 1321              	.LVL68:
 1322              	.L66:
  64:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.accLPFcoef = lpf;
 1323              		.loc 1 64 5 is_stmt 1 view .LVU479
  64:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.accLPFcoef = lpf;
 1324              		.loc 1 64 21 is_stmt 0 view .LVU480
 1325 0040 204D     		ldr	r5, .L71
 1326 0042 C5ED741A 		vstr.32	s3, [r5, #464]
  65:modules/algorithm/QuaternionEKF.c **** 
 1327              		.loc 1 65 5 is_stmt 1 view .LVU481
  65:modules/algorithm/QuaternionEKF.c **** 
 1328              		.loc 1 65 25 is_stmt 0 view .LVU482
 1329 0046 85ED642A 		vstr.32	s4, [r5, #400]
  68:modules/algorithm/QuaternionEKF.c ****     Matrix_Init(&QEKF_INS.ChiSquare, 1, 1, (float *)QEKF_INS.ChiSquare_Data);
 1330              		.loc 1 68 5 is_stmt 1 view .LVU483
 1331 004a 0323     		movs	r3, #3
 1332 004c 0022     		movs	r2, #0
 1333 004e 0621     		movs	r1, #6
 1334 0050 281D     		adds	r0, r5, #4
 1335 0052 FFF7FEFF 		bl	Kalman_Filter_Init
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 41


 1336              	.LVL69:
  69:modules/algorithm/QuaternionEKF.c **** 
 1337              		.loc 1 69 5 view .LVU484
 1338 0056 05F5E473 		add	r3, r5, #456
 1339 005a 0122     		movs	r2, #1
 1340 005c 1146     		mov	r1, r2
 1341 005e 05F5E070 		add	r0, r5, #448
 1342 0062 FFF7FEFF 		bl	arm_mat_init_f32
 1343              	.LVL70:
  72:modules/algorithm/QuaternionEKF.c ****     {
 1344              		.loc 1 72 5 view .LVU485
 1345              	.LBB8:
  72:modules/algorithm/QuaternionEKF.c ****     {
 1346              		.loc 1 72 9 view .LVU486
  72:modules/algorithm/QuaternionEKF.c ****     {
 1347              		.loc 1 72 13 is_stmt 0 view .LVU487
 1348 0066 0023     		movs	r3, #0
  72:modules/algorithm/QuaternionEKF.c ****     {
 1349              		.loc 1 72 5 view .LVU488
 1350 0068 09E0     		b	.L67
 1351              	.LVL71:
 1352              	.L68:
  74:modules/algorithm/QuaternionEKF.c ****     }
 1353              		.loc 1 74 9 is_stmt 1 discriminator 3 view .LVU489
  74:modules/algorithm/QuaternionEKF.c ****     }
 1354              		.loc 1 74 35 is_stmt 0 discriminator 3 view .LVU490
 1355 006a 164A     		ldr	r2, .L71
 1356 006c D2F8EC20 		ldr	r2, [r2, #236]
  74:modules/algorithm/QuaternionEKF.c ****     }
 1357              		.loc 1 74 45 discriminator 3 view .LVU491
 1358 0070 02EB8302 		add	r2, r2, r3, lsl #2
  74:modules/algorithm/QuaternionEKF.c ****     }
 1359              		.loc 1 74 66 discriminator 3 view .LVU492
 1360 0074 04EB8301 		add	r1, r4, r3, lsl #2
 1361 0078 0968     		ldr	r1, [r1]	@ float
  74:modules/algorithm/QuaternionEKF.c ****     }
 1362              		.loc 1 74 49 discriminator 3 view .LVU493
 1363 007a 1160     		str	r1, [r2]	@ float
  72:modules/algorithm/QuaternionEKF.c ****     {
 1364              		.loc 1 72 27 is_stmt 1 discriminator 3 view .LVU494
  72:modules/algorithm/QuaternionEKF.c ****     {
 1365              		.loc 1 72 28 is_stmt 0 discriminator 3 view .LVU495
 1366 007c 0133     		adds	r3, r3, #1
 1367              	.LVL72:
 1368              	.L67:
  72:modules/algorithm/QuaternionEKF.c ****     {
 1369              		.loc 1 72 20 is_stmt 1 discriminator 1 view .LVU496
  72:modules/algorithm/QuaternionEKF.c ****     {
 1370              		.loc 1 72 5 is_stmt 0 discriminator 1 view .LVU497
 1371 007e 032B     		cmp	r3, #3
 1372 0080 F3DD     		ble	.L68
 1373              	.LBE8:
  78:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func1_f = IMU_QuaternionEKF_F_Linearization_P_Fading;
 1374              		.loc 1 78 5 is_stmt 1 view .LVU498
  78:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func1_f = IMU_QuaternionEKF_F_Linearization_P_Fading;
 1375              		.loc 1 78 45 is_stmt 0 view .LVU499
 1376 0082 104C     		ldr	r4, .L71
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 42


 1377              	.LVL73:
  78:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func1_f = IMU_QuaternionEKF_F_Linearization_P_Fading;
 1378              		.loc 1 78 45 view .LVU500
 1379 0084 114B     		ldr	r3, .L71+8
 1380              	.LVL74:
  78:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func1_f = IMU_QuaternionEKF_F_Linearization_P_Fading;
 1381              		.loc 1 78 45 view .LVU501
 1382 0086 C4F8D030 		str	r3, [r4, #208]
  79:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func2_f = IMU_QuaternionEKF_SetH;
 1383              		.loc 1 79 5 is_stmt 1 view .LVU502
  79:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func2_f = IMU_QuaternionEKF_SetH;
 1384              		.loc 1 79 45 is_stmt 0 view .LVU503
 1385 008a 114B     		ldr	r3, .L71+12
 1386 008c C4F8D430 		str	r3, [r4, #212]
  80:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func3_f = IMU_QuaternionEKF_xhatUpdate;
 1387              		.loc 1 80 5 is_stmt 1 view .LVU504
  80:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.User_Func3_f = IMU_QuaternionEKF_xhatUpdate;
 1388              		.loc 1 80 45 is_stmt 0 view .LVU505
 1389 0090 104B     		ldr	r3, .L71+16
 1390 0092 C4F8D830 		str	r3, [r4, #216]
  81:modules/algorithm/QuaternionEKF.c **** 
 1391              		.loc 1 81 5 is_stmt 1 view .LVU506
  81:modules/algorithm/QuaternionEKF.c **** 
 1392              		.loc 1 81 45 is_stmt 0 view .LVU507
 1393 0096 104B     		ldr	r3, .L71+20
 1394 0098 C4F8DC30 		str	r3, [r4, #220]
  84:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.SkipEq4 = TRUE;
 1395              		.loc 1 84 5 is_stmt 1 view .LVU508
  84:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.SkipEq4 = TRUE;
 1396              		.loc 1 84 40 is_stmt 0 view .LVU509
 1397 009c 0123     		movs	r3, #1
 1398 009e 84F82E30 		strb	r3, [r4, #46]
  85:modules/algorithm/QuaternionEKF.c **** 
 1399              		.loc 1 85 5 is_stmt 1 view .LVU510
  85:modules/algorithm/QuaternionEKF.c **** 
 1400              		.loc 1 85 40 is_stmt 0 view .LVU511
 1401 00a2 84F82F30 		strb	r3, [r4, #47]
  87:modules/algorithm/QuaternionEKF.c ****     memcpy(QEKF_INS.IMU_QuaternionEKF.P_data, IMU_QuaternionEKF_P, sizeof(IMU_QuaternionEKF_P));
 1402              		.loc 1 87 5 is_stmt 1 view .LVU512
 1403 00a6 9025     		movs	r5, #144
 1404 00a8 2A46     		mov	r2, r5
 1405 00aa 0C49     		ldr	r1, .L71+24
 1406 00ac D4F80401 		ldr	r0, [r4, #260]
 1407 00b0 FFF7FEFF 		bl	memcpy
 1408              	.LVL75:
  88:modules/algorithm/QuaternionEKF.c **** }
 1409              		.loc 1 88 5 view .LVU513
 1410 00b4 2A46     		mov	r2, r5
 1411 00b6 0A49     		ldr	r1, .L71+28
 1412 00b8 D4F8FC00 		ldr	r0, [r4, #252]
 1413 00bc FFF7FEFF 		bl	memcpy
 1414              	.LVL76:
  89:modules/algorithm/QuaternionEKF.c **** 
 1415              		.loc 1 89 1 is_stmt 0 view .LVU514
 1416 00c0 38BD     		pop	{r3, r4, r5, pc}
 1417              	.L72:
 1418 00c2 00BF     		.align	2
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 43


 1419              	.L71:
 1420 00c4 00000000 		.word	.LANCHOR5
 1421 00c8 77CC2B32 		.word	841731191
 1422 00cc 00000000 		.word	IMU_QuaternionEKF_Observe
 1423 00d0 00000000 		.word	IMU_QuaternionEKF_F_Linearization_P_Fading
 1424 00d4 00000000 		.word	IMU_QuaternionEKF_SetH
 1425 00d8 00000000 		.word	IMU_QuaternionEKF_xhatUpdate
 1426 00dc 00000000 		.word	.LANCHOR17
 1427 00e0 00000000 		.word	.LANCHOR6
 1428              		.cfi_endproc
 1429              	.LFE163:
 1431              		.section	.text.IMU_QuaternionEKF_Update,"ax",%progbits
 1432              		.align	1
 1433              		.global	IMU_QuaternionEKF_Update
 1434              		.syntax unified
 1435              		.thumb
 1436              		.thumb_func
 1438              	IMU_QuaternionEKF_Update:
 1439              	.LVL77:
 1440              	.LFB164:
  98:modules/algorithm/QuaternionEKF.c ****     // 0.5(Ohm-Ohm^bias)*deltaT,Áî®‰∫éÊõ¥Êñ∞Â∑•‰ΩúÁÇπÂ§ÑÁöÑÁä∂ÊÄÅËΩ¨ÁßªFÁü©Èòµ
 1441              		.loc 1 98 1 is_stmt 1 view -0
 1442              		.cfi_startproc
 1443              		@ args = 0, pretend = 0, frame = 0
 1444              		@ frame_needed = 0, uses_anonymous_args = 0
  98:modules/algorithm/QuaternionEKF.c ****     // 0.5(Ohm-Ohm^bias)*deltaT,Áî®‰∫éÊõ¥Êñ∞Â∑•‰ΩúÁÇπÂ§ÑÁöÑÁä∂ÊÄÅËΩ¨ÁßªFÁü©Èòµ
 1445              		.loc 1 98 1 is_stmt 0 view .LVU516
 1446 0000 10B5     		push	{r4, lr}
 1447              	.LCFI9:
 1448              		.cfi_def_cfa_offset 8
 1449              		.cfi_offset 4, -8
 1450              		.cfi_offset 14, -4
 1451 0002 2DED068B 		vpush.64	{d8, d9, d10}
 1452              	.LCFI10:
 1453              		.cfi_def_cfa_offset 32
 1454              		.cfi_offset 80, -32
 1455              		.cfi_offset 81, -28
 1456              		.cfi_offset 82, -24
 1457              		.cfi_offset 83, -20
 1458              		.cfi_offset 84, -16
 1459              		.cfi_offset 85, -12
 1460 0006 F0EE61AA 		vmov.f32	s21, s3
 1461 000a B0EE42AA 		vmov.f32	s20, s4
 1462 000e F0EE629A 		vmov.f32	s19, s5
 100:modules/algorithm/QuaternionEKF.c ****     static float accelInvNorm;
 1463              		.loc 1 100 5 is_stmt 1 view .LVU517
 101:modules/algorithm/QuaternionEKF.c **** 
 1464              		.loc 1 101 5 view .LVU518
 111:modules/algorithm/QuaternionEKF.c **** 
 1465              		.loc 1 111 5 view .LVU519
 111:modules/algorithm/QuaternionEKF.c **** 
 1466              		.loc 1 111 17 is_stmt 0 view .LVU520
 1467 0012 804C     		ldr	r4, .L93
 1468 0014 84ED6F3A 		vstr.32	s6, [r4, #444]
 113:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[1] = gy - QEKF_INS.GyroBias[1];
 1469              		.loc 1 113 5 is_stmt 1 view .LVU521
 113:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[1] = gy - QEKF_INS.GyroBias[1];
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 44


 1470              		.loc 1 113 46 is_stmt 0 view .LVU522
 1471 0018 94ED589A 		vldr.32	s18, [r4, #352]
 113:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[1] = gy - QEKF_INS.GyroBias[1];
 1472              		.loc 1 113 27 view .LVU523
 1473 001c 30EE490A 		vsub.f32	s0, s0, s18
 1474              	.LVL78:
 113:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[1] = gy - QEKF_INS.GyroBias[1];
 1475              		.loc 1 113 22 view .LVU524
 1476 0020 84ED5B0A 		vstr.32	s0, [r4, #364]
 114:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[2] = gz - QEKF_INS.GyroBias[2];
 1477              		.loc 1 114 5 is_stmt 1 view .LVU525
 114:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[2] = gz - QEKF_INS.GyroBias[2];
 1478              		.loc 1 114 46 is_stmt 0 view .LVU526
 1479 0024 94ED598A 		vldr.32	s16, [r4, #356]
 114:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[2] = gz - QEKF_INS.GyroBias[2];
 1480              		.loc 1 114 27 view .LVU527
 1481 0028 70EEC80A 		vsub.f32	s1, s1, s16
 1482              	.LVL79:
 114:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Gyro[2] = gz - QEKF_INS.GyroBias[2];
 1483              		.loc 1 114 22 view .LVU528
 1484 002c C4ED5C0A 		vstr.32	s1, [r4, #368]
 115:modules/algorithm/QuaternionEKF.c **** 
 1485              		.loc 1 115 5 is_stmt 1 view .LVU529
 115:modules/algorithm/QuaternionEKF.c **** 
 1486              		.loc 1 115 46 is_stmt 0 view .LVU530
 1487 0030 D4ED5A8A 		vldr.32	s17, [r4, #360]
 115:modules/algorithm/QuaternionEKF.c **** 
 1488              		.loc 1 115 27 view .LVU531
 1489 0034 31EE681A 		vsub.f32	s2, s2, s17
 1490              	.LVL80:
 115:modules/algorithm/QuaternionEKF.c **** 
 1491              		.loc 1 115 22 view .LVU532
 1492 0038 84ED5D1A 		vstr.32	s2, [r4, #372]
 118:modules/algorithm/QuaternionEKF.c ****     halfgydt = 0.5f * QEKF_INS.Gyro[1] * dt;
 1493              		.loc 1 118 5 is_stmt 1 view .LVU533
 118:modules/algorithm/QuaternionEKF.c ****     halfgydt = 0.5f * QEKF_INS.Gyro[1] * dt;
 1494              		.loc 1 118 21 is_stmt 0 view .LVU534
 1495 003c F6EE008A 		vmov.f32	s17, #5.0e-1
 1496 0040 20EE280A 		vmul.f32	s0, s0, s17
 118:modules/algorithm/QuaternionEKF.c ****     halfgydt = 0.5f * QEKF_INS.Gyro[1] * dt;
 1497              		.loc 1 118 40 view .LVU535
 1498 0044 20EE039A 		vmul.f32	s18, s0, s6
 118:modules/algorithm/QuaternionEKF.c ****     halfgydt = 0.5f * QEKF_INS.Gyro[1] * dt;
 1499              		.loc 1 118 14 view .LVU536
 1500 0048 734B     		ldr	r3, .L93+4
 1501 004a 83ED009A 		vstr.32	s18, [r3]
 119:modules/algorithm/QuaternionEKF.c ****     halfgzdt = 0.5f * QEKF_INS.Gyro[2] * dt;
 1502              		.loc 1 119 5 is_stmt 1 view .LVU537
 119:modules/algorithm/QuaternionEKF.c ****     halfgzdt = 0.5f * QEKF_INS.Gyro[2] * dt;
 1503              		.loc 1 119 21 is_stmt 0 view .LVU538
 1504 004e 60EEA80A 		vmul.f32	s1, s1, s17
 119:modules/algorithm/QuaternionEKF.c ****     halfgzdt = 0.5f * QEKF_INS.Gyro[2] * dt;
 1505              		.loc 1 119 40 view .LVU539
 1506 0052 20EE838A 		vmul.f32	s16, s1, s6
 119:modules/algorithm/QuaternionEKF.c ****     halfgzdt = 0.5f * QEKF_INS.Gyro[2] * dt;
 1507              		.loc 1 119 14 view .LVU540
 1508 0056 714B     		ldr	r3, .L93+8
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 45


 1509 0058 83ED008A 		vstr.32	s16, [r3]
 120:modules/algorithm/QuaternionEKF.c **** 
 1510              		.loc 1 120 5 is_stmt 1 view .LVU541
 120:modules/algorithm/QuaternionEKF.c **** 
 1511              		.loc 1 120 21 is_stmt 0 view .LVU542
 1512 005c 21EE281A 		vmul.f32	s2, s2, s17
 120:modules/algorithm/QuaternionEKF.c **** 
 1513              		.loc 1 120 40 view .LVU543
 1514 0060 61EE038A 		vmul.f32	s17, s2, s6
 120:modules/algorithm/QuaternionEKF.c **** 
 1515              		.loc 1 120 14 view .LVU544
 1516 0064 6E4B     		ldr	r3, .L93+12
 1517 0066 C3ED008A 		vstr.32	s17, [r3]
 124:modules/algorithm/QuaternionEKF.c **** 
 1518              		.loc 1 124 5 is_stmt 1 view .LVU545
 1519 006a 9022     		movs	r2, #144
 1520 006c 6D49     		ldr	r1, .L93+16
 1521 006e D4F80401 		ldr	r0, [r4, #260]
 1522 0072 FFF7FEFF 		bl	memcpy
 1523              	.LVL81:
 126:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[2] = -halfgydt;
 1524              		.loc 1 126 5 view .LVU546
 126:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[2] = -halfgydt;
 1525              		.loc 1 126 31 is_stmt 0 view .LVU547
 1526 0076 D4F80431 		ldr	r3, [r4, #260]
 126:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[2] = -halfgydt;
 1527              		.loc 1 126 44 view .LVU548
 1528 007a F1EE497A 		vneg.f32	s15, s18
 126:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[2] = -halfgydt;
 1529              		.loc 1 126 42 view .LVU549
 1530 007e C3ED017A 		vstr.32	s15, [r3, #4]
 127:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[3] = -halfgzdt;
 1531              		.loc 1 127 5 is_stmt 1 view .LVU550
 127:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[3] = -halfgzdt;
 1532              		.loc 1 127 31 is_stmt 0 view .LVU551
 1533 0082 D4F80431 		ldr	r3, [r4, #260]
 127:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[3] = -halfgzdt;
 1534              		.loc 1 127 44 view .LVU552
 1535 0086 F1EE486A 		vneg.f32	s13, s16
 127:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[3] = -halfgzdt;
 1536              		.loc 1 127 42 view .LVU553
 1537 008a C3ED026A 		vstr.32	s13, [r3, #8]
 128:modules/algorithm/QuaternionEKF.c **** 
 1538              		.loc 1 128 5 is_stmt 1 view .LVU554
 128:modules/algorithm/QuaternionEKF.c **** 
 1539              		.loc 1 128 31 is_stmt 0 view .LVU555
 1540 008e D4F80431 		ldr	r3, [r4, #260]
 128:modules/algorithm/QuaternionEKF.c **** 
 1541              		.loc 1 128 44 view .LVU556
 1542 0092 B1EE687A 		vneg.f32	s14, s17
 128:modules/algorithm/QuaternionEKF.c **** 
 1543              		.loc 1 128 42 view .LVU557
 1544 0096 83ED037A 		vstr.32	s14, [r3, #12]
 130:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[8] = halfgzdt;
 1545              		.loc 1 130 5 is_stmt 1 view .LVU558
 130:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[8] = halfgzdt;
 1546              		.loc 1 130 31 is_stmt 0 view .LVU559
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 46


 1547 009a D4F80431 		ldr	r3, [r4, #260]
 130:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[8] = halfgzdt;
 1548              		.loc 1 130 42 view .LVU560
 1549 009e 83ED069A 		vstr.32	s18, [r3, #24]
 131:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[9] = -halfgydt;
 1550              		.loc 1 131 5 is_stmt 1 view .LVU561
 131:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[9] = -halfgydt;
 1551              		.loc 1 131 31 is_stmt 0 view .LVU562
 1552 00a2 D4F80431 		ldr	r3, [r4, #260]
 131:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[9] = -halfgydt;
 1553              		.loc 1 131 42 view .LVU563
 1554 00a6 C3ED088A 		vstr.32	s17, [r3, #32]
 132:modules/algorithm/QuaternionEKF.c **** 
 1555              		.loc 1 132 5 is_stmt 1 view .LVU564
 132:modules/algorithm/QuaternionEKF.c **** 
 1556              		.loc 1 132 31 is_stmt 0 view .LVU565
 1557 00aa D4F80431 		ldr	r3, [r4, #260]
 132:modules/algorithm/QuaternionEKF.c **** 
 1558              		.loc 1 132 42 view .LVU566
 1559 00ae C3ED096A 		vstr.32	s13, [r3, #36]
 134:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[13] = -halfgzdt;
 1560              		.loc 1 134 5 is_stmt 1 view .LVU567
 134:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[13] = -halfgzdt;
 1561              		.loc 1 134 31 is_stmt 0 view .LVU568
 1562 00b2 D4F80431 		ldr	r3, [r4, #260]
 134:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[13] = -halfgzdt;
 1563              		.loc 1 134 43 view .LVU569
 1564 00b6 83ED0C8A 		vstr.32	s16, [r3, #48]
 135:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[15] = halfgxdt;
 1565              		.loc 1 135 5 is_stmt 1 view .LVU570
 135:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[15] = halfgxdt;
 1566              		.loc 1 135 31 is_stmt 0 view .LVU571
 1567 00ba D4F80431 		ldr	r3, [r4, #260]
 135:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[15] = halfgxdt;
 1568              		.loc 1 135 43 view .LVU572
 1569 00be 83ED0D7A 		vstr.32	s14, [r3, #52]
 136:modules/algorithm/QuaternionEKF.c **** 
 1570              		.loc 1 136 5 is_stmt 1 view .LVU573
 136:modules/algorithm/QuaternionEKF.c **** 
 1571              		.loc 1 136 31 is_stmt 0 view .LVU574
 1572 00c2 D4F80431 		ldr	r3, [r4, #260]
 136:modules/algorithm/QuaternionEKF.c **** 
 1573              		.loc 1 136 43 view .LVU575
 1574 00c6 83ED0F9A 		vstr.32	s18, [r3, #60]
 138:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[19] = halfgydt;
 1575              		.loc 1 138 5 is_stmt 1 view .LVU576
 138:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[19] = halfgydt;
 1576              		.loc 1 138 31 is_stmt 0 view .LVU577
 1577 00ca D4F80431 		ldr	r3, [r4, #260]
 138:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[19] = halfgydt;
 1578              		.loc 1 138 43 view .LVU578
 1579 00ce C3ED128A 		vstr.32	s17, [r3, #72]
 139:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[20] = -halfgxdt;
 1580              		.loc 1 139 5 is_stmt 1 view .LVU579
 139:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[20] = -halfgxdt;
 1581              		.loc 1 139 31 is_stmt 0 view .LVU580
 1582 00d2 D4F80431 		ldr	r3, [r4, #260]
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 47


 139:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.F_data[20] = -halfgxdt;
 1583              		.loc 1 139 43 view .LVU581
 1584 00d6 83ED138A 		vstr.32	s16, [r3, #76]
 140:modules/algorithm/QuaternionEKF.c **** 
 1585              		.loc 1 140 5 is_stmt 1 view .LVU582
 140:modules/algorithm/QuaternionEKF.c **** 
 1586              		.loc 1 140 31 is_stmt 0 view .LVU583
 1587 00da D4F80431 		ldr	r3, [r4, #260]
 140:modules/algorithm/QuaternionEKF.c **** 
 1588              		.loc 1 140 43 view .LVU584
 1589 00de C3ED147A 		vstr.32	s15, [r3, #80]
 143:modules/algorithm/QuaternionEKF.c ****     {
 1590              		.loc 1 143 5 is_stmt 1 view .LVU585
 143:modules/algorithm/QuaternionEKF.c ****     {
 1591              		.loc 1 143 17 is_stmt 0 view .LVU586
 1592 00e2 D4F84821 		ldr	r2, [r4, #328]
 1593 00e6 D4F84C31 		ldr	r3, [r4, #332]
 143:modules/algorithm/QuaternionEKF.c ****     {
 1594              		.loc 1 143 8 view .LVU587
 1595 00ea 1343     		orrs	r3, r2, r3
 1596 00ec 05D1     		bne	.L74
 145:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[1] = ay;
 1597              		.loc 1 145 9 is_stmt 1 view .LVU588
 145:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[1] = ay;
 1598              		.loc 1 145 27 is_stmt 0 view .LVU589
 1599 00ee C4ED5EAA 		vstr.32	s21, [r4, #376]
 146:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[2] = az;
 1600              		.loc 1 146 9 is_stmt 1 view .LVU590
 146:modules/algorithm/QuaternionEKF.c ****         QEKF_INS.Accel[2] = az;
 1601              		.loc 1 146 27 is_stmt 0 view .LVU591
 1602 00f2 84ED5FAA 		vstr.32	s20, [r4, #380]
 147:modules/algorithm/QuaternionEKF.c ****     }
 1603              		.loc 1 147 9 is_stmt 1 view .LVU592
 147:modules/algorithm/QuaternionEKF.c ****     }
 1604              		.loc 1 147 27 is_stmt 0 view .LVU593
 1605 00f6 C4ED609A 		vstr.32	s19, [r4, #384]
 1606              	.L74:
 149:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1607              		.loc 1 149 5 is_stmt 1 view .LVU594
 149:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1608              		.loc 1 149 39 is_stmt 0 view .LVU595
 1609 00fa 464B     		ldr	r3, .L93
 1610 00fc 93ED5E7A 		vldr.32	s14, [r3, #376]
 149:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1611              		.loc 1 149 53 view .LVU596
 1612 0100 D3ED647A 		vldr.32	s15, [r3, #400]
 149:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1613              		.loc 1 149 43 view .LVU597
 1614 0104 27EE277A 		vmul.f32	s14, s14, s15
 149:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1615              		.loc 1 149 76 view .LVU598
 1616 0108 93ED6F6A 		vldr.32	s12, [r3, #444]
 149:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1617              		.loc 1 149 80 view .LVU599
 1618 010c 77EE866A 		vadd.f32	s13, s15, s12
 149:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1619              		.loc 1 149 65 view .LVU600
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 48


 1620 0110 87EE260A 		vdiv.f32	s0, s14, s13
 149:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1621              		.loc 1 149 108 view .LVU601
 1622 0114 66EE2AAA 		vmul.f32	s21, s12, s21
 1623              	.LVL82:
 149:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1624              		.loc 1 149 122 view .LVU602
 1625 0118 8AEEA67A 		vdiv.f32	s14, s21, s13
 149:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1626              		.loc 1 149 103 view .LVU603
 1627 011c 30EE070A 		vadd.f32	s0, s0, s14
 149:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[1] = QEKF_INS.Accel[1] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1628              		.loc 1 149 23 view .LVU604
 1629 0120 83ED5E0A 		vstr.32	s0, [r3, #376]
 150:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1630              		.loc 1 150 5 is_stmt 1 view .LVU605
 150:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1631              		.loc 1 150 39 is_stmt 0 view .LVU606
 1632 0124 D3ED5F5A 		vldr.32	s11, [r3, #380]
 150:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1633              		.loc 1 150 43 view .LVU607
 1634 0128 67EEA55A 		vmul.f32	s11, s15, s11
 150:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1635              		.loc 1 150 65 view .LVU608
 1636 012c 85EEA67A 		vdiv.f32	s14, s11, s13
 150:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1637              		.loc 1 150 108 view .LVU609
 1638 0130 26EE0AAA 		vmul.f32	s20, s12, s20
 1639              	.LVL83:
 150:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1640              		.loc 1 150 122 view .LVU610
 1641 0134 CAEE265A 		vdiv.f32	s11, s20, s13
 150:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1642              		.loc 1 150 103 view .LVU611
 1643 0138 37EE257A 		vadd.f32	s14, s14, s11
 150:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Accel[2] = QEKF_INS.Accel[2] * QEKF_INS.accLPFcoef / (QEKF_INS.dt + QEKF_INS.accLPFcoe
 1644              		.loc 1 150 23 view .LVU612
 1645 013c 83ED5F7A 		vstr.32	s14, [r3, #380]
 151:modules/algorithm/QuaternionEKF.c **** 
 1646              		.loc 1 151 5 is_stmt 1 view .LVU613
 151:modules/algorithm/QuaternionEKF.c **** 
 1647              		.loc 1 151 39 is_stmt 0 view .LVU614
 1648 0140 D3ED605A 		vldr.32	s11, [r3, #384]
 151:modules/algorithm/QuaternionEKF.c **** 
 1649              		.loc 1 151 43 view .LVU615
 1650 0144 67EEA55A 		vmul.f32	s11, s15, s11
 151:modules/algorithm/QuaternionEKF.c **** 
 1651              		.loc 1 151 65 view .LVU616
 1652 0148 C5EEA67A 		vdiv.f32	s15, s11, s13
 151:modules/algorithm/QuaternionEKF.c **** 
 1653              		.loc 1 151 108 view .LVU617
 1654 014c 26EE296A 		vmul.f32	s12, s12, s19
 151:modules/algorithm/QuaternionEKF.c **** 
 1655              		.loc 1 151 122 view .LVU618
 1656 0150 C6EE265A 		vdiv.f32	s11, s12, s13
 151:modules/algorithm/QuaternionEKF.c **** 
 1657              		.loc 1 151 103 view .LVU619
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 49


 1658 0154 77EEA57A 		vadd.f32	s15, s15, s11
 151:modules/algorithm/QuaternionEKF.c **** 
 1659              		.loc 1 151 23 view .LVU620
 1660 0158 C3ED607A 		vstr.32	s15, [r3, #384]
 154:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1661              		.loc 1 154 5 is_stmt 1 view .LVU621
 154:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1662              		.loc 1 154 46 is_stmt 0 view .LVU622
 1663 015c 20EE000A 		vmul.f32	s0, s0, s0
 154:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1664              		.loc 1 154 86 view .LVU623
 1665 0160 27EE077A 		vmul.f32	s14, s14, s14
 154:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1666              		.loc 1 154 66 view .LVU624
 1667 0164 30EE070A 		vadd.f32	s0, s0, s14
 154:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1668              		.loc 1 154 126 view .LVU625
 1669 0168 67EEA77A 		vmul.f32	s15, s15, s15
 154:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1670              		.loc 1 154 20 view .LVU626
 1671 016c 30EE270A 		vadd.f32	s0, s0, s15
 1672 0170 FFF7FEFF 		bl	invSqrt
 1673              	.LVL84:
 1674 0174 B0EE408A 		vmov.f32	s16, s0
 154:modules/algorithm/QuaternionEKF.c ****     for (uint8_t i = 0; i < 3; ++i)
 1675              		.loc 1 154 18 view .LVU627
 1676 0178 2B4B     		ldr	r3, .L93+20
 1677 017a 83ED000A 		vstr.32	s0, [r3]
 155:modules/algorithm/QuaternionEKF.c ****     {
 1678              		.loc 1 155 5 is_stmt 1 view .LVU628
 1679              	.LBB9:
 155:modules/algorithm/QuaternionEKF.c ****     {
 1680              		.loc 1 155 10 view .LVU629
 1681              	.LVL85:
 155:modules/algorithm/QuaternionEKF.c ****     {
 1682              		.loc 1 155 18 is_stmt 0 view .LVU630
 1683 017e 0023     		movs	r3, #0
 155:modules/algorithm/QuaternionEKF.c ****     {
 1684              		.loc 1 155 5 view .LVU631
 1685 0180 0FE0     		b	.L75
 1686              	.LVL86:
 1687              	.L76:
 157:modules/algorithm/QuaternionEKF.c ****     }
 1688              		.loc 1 157 9 is_stmt 1 discriminator 3 view .LVU632
 157:modules/algorithm/QuaternionEKF.c ****     }
 1689              		.loc 1 157 70 is_stmt 0 discriminator 3 view .LVU633
 1690 0182 2449     		ldr	r1, .L93
 1691 0184 03F15E02 		add	r2, r3, #94
 1692 0188 01EB8202 		add	r2, r1, r2, lsl #2
 1693 018c D2ED007A 		vldr.32	s15, [r2]
 157:modules/algorithm/QuaternionEKF.c ****     }
 1694              		.loc 1 157 35 discriminator 3 view .LVU634
 1695 0190 8A68     		ldr	r2, [r1, #8]
 157:modules/algorithm/QuaternionEKF.c ****     }
 1696              		.loc 1 157 50 discriminator 3 view .LVU635
 1697 0192 02EB8302 		add	r2, r2, r3, lsl #2
 157:modules/algorithm/QuaternionEKF.c ****     }
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 50


 1698              		.loc 1 157 74 discriminator 3 view .LVU636
 1699 0196 68EE277A 		vmul.f32	s15, s16, s15
 157:modules/algorithm/QuaternionEKF.c ****     }
 1700              		.loc 1 157 54 discriminator 3 view .LVU637
 1701 019a C2ED007A 		vstr.32	s15, [r2]
 155:modules/algorithm/QuaternionEKF.c ****     {
 1702              		.loc 1 155 32 is_stmt 1 discriminator 3 view .LVU638
 1703 019e 0133     		adds	r3, r3, #1
 1704              	.LVL87:
 155:modules/algorithm/QuaternionEKF.c ****     {
 1705              		.loc 1 155 32 is_stmt 0 discriminator 3 view .LVU639
 1706 01a0 DBB2     		uxtb	r3, r3
 1707              	.LVL88:
 1708              	.L75:
 155:modules/algorithm/QuaternionEKF.c ****     {
 1709              		.loc 1 155 25 is_stmt 1 discriminator 1 view .LVU640
 155:modules/algorithm/QuaternionEKF.c ****     {
 1710              		.loc 1 155 5 is_stmt 0 discriminator 1 view .LVU641
 1711 01a2 022B     		cmp	r3, #2
 1712 01a4 EDD9     		bls	.L76
 1713              	.LBE9:
 161:modules/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1714              		.loc 1 161 5 is_stmt 1 view .LVU642
 161:modules/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1715              		.loc 1 161 54 is_stmt 0 view .LVU643
 1716 01a6 1B4C     		ldr	r4, .L93
 1717 01a8 94ED5B0A 		vldr.32	s0, [r4, #364]
 161:modules/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1718              		.loc 1 161 58 view .LVU644
 1719 01ac 20EE000A 		vmul.f32	s0, s0, s0
 162:modules/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[2] * QEKF_INS.Gyro[2]);
 1720              		.loc 1 162 54 view .LVU645
 1721 01b0 D4ED5C7A 		vldr.32	s15, [r4, #368]
 162:modules/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[2] * QEKF_INS.Gyro[2]);
 1722              		.loc 1 162 58 view .LVU646
 1723 01b4 67EEA77A 		vmul.f32	s15, s15, s15
 161:modules/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1724              		.loc 1 161 77 view .LVU647
 1725 01b8 30EE270A 		vadd.f32	s0, s0, s15
 163:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.accl_norm = 1.0f / accelInvNorm;
 1726              		.loc 1 163 54 view .LVU648
 1727 01bc D4ED5D7A 		vldr.32	s15, [r4, #372]
 163:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.accl_norm = 1.0f / accelInvNorm;
 1728              		.loc 1 163 58 view .LVU649
 1729 01c0 67EEA77A 		vmul.f32	s15, s15, s15
 161:modules/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1730              		.loc 1 161 33 view .LVU650
 1731 01c4 30EE270A 		vadd.f32	s0, s0, s15
 1732 01c8 FFF7FEFF 		bl	invSqrt
 1733              	.LVL89:
 161:modules/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1734              		.loc 1 161 31 view .LVU651
 1735 01cc B7EE007A 		vmov.f32	s14, #1.0e+0
 1736 01d0 C7EE007A 		vdiv.f32	s15, s14, s0
 161:modules/algorithm/QuaternionEKF.c ****                                         QEKF_INS.Gyro[1] * QEKF_INS.Gyro[1] +
 1737              		.loc 1 161 24 view .LVU652
 1738 01d4 C4ED657A 		vstr.32	s15, [r4, #404]
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 51


 164:modules/algorithm/QuaternionEKF.c **** 
 1739              		.loc 1 164 5 is_stmt 1 view .LVU653
 164:modules/algorithm/QuaternionEKF.c **** 
 1740              		.loc 1 164 31 is_stmt 0 view .LVU654
 1741 01d8 C7EE086A 		vdiv.f32	s13, s14, s16
 164:modules/algorithm/QuaternionEKF.c **** 
 1742              		.loc 1 164 24 view .LVU655
 1743 01dc C4ED666A 		vstr.32	s13, [r4, #408]
 168:modules/algorithm/QuaternionEKF.c ****     {
 1744              		.loc 1 168 5 is_stmt 1 view .LVU656
 168:modules/algorithm/QuaternionEKF.c ****     {
 1745              		.loc 1 168 8 is_stmt 0 view .LVU657
 1746 01e0 9FED127A 		vldr.32	s14, .L93+24
 1747 01e4 F4EEC77A 		vcmpe.f32	s15, s14
 1748 01e8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1749 01ec 24D5     		bpl	.L77
 168:modules/algorithm/QuaternionEKF.c ****     {
 1750              		.loc 1 168 35 discriminator 1 view .LVU658
 1751 01ee DFED107A 		vldr.32	s15, .L93+28
 1752 01f2 F4EEE76A 		vcmpe.f32	s13, s15
 1753 01f6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1754 01fa 1DDD     		ble	.L77
 168:modules/algorithm/QuaternionEKF.c ****     {
 1755              		.loc 1 168 71 discriminator 2 view .LVU659
 1756 01fc DFED0D7A 		vldr.32	s15, .L93+32
 1757 0200 F4EEE76A 		vcmpe.f32	s13, s15
 1758 0204 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1759 0208 16D5     		bpl	.L77
 170:modules/algorithm/QuaternionEKF.c ****     }
 1760              		.loc 1 170 9 is_stmt 1 view .LVU660
 170:modules/algorithm/QuaternionEKF.c ****     }
 1761              		.loc 1 170 29 is_stmt 0 view .LVU661
 1762 020a 0122     		movs	r2, #1
 1763 020c 84F83921 		strb	r2, [r4, #313]
 1764 0210 16E0     		b	.L81
 1765              	.L94:
 1766 0212 00BF     		.align	2
 1767              	.L93:
 1768 0214 00000000 		.word	.LANCHOR5
 1769 0218 00000000 		.word	.LANCHOR18
 1770 021c 00000000 		.word	.LANCHOR19
 1771 0220 00000000 		.word	.LANCHOR20
 1772 0224 00000000 		.word	.LANCHOR17
 1773 0228 00000000 		.word	.LANCHOR21
 1774 022c 9A99993E 		.word	1050253722
 1775 0230 CDCC1441 		.word	1091882189
 1776 0234 CDCC2441 		.word	1092930765
 1777              	.L77:
 174:modules/algorithm/QuaternionEKF.c ****     }
 1778              		.loc 1 174 9 is_stmt 1 view .LVU662
 174:modules/algorithm/QuaternionEKF.c ****     }
 1779              		.loc 1 174 29 is_stmt 0 view .LVU663
 1780 0238 7E4B     		ldr	r3, .L95
 1781 023a 0022     		movs	r2, #0
 1782 023c 83F83921 		strb	r2, [r3, #313]
 1783              	.L81:
 178:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 52


 1784              		.loc 1 178 5 is_stmt 1 view .LVU664
 178:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
 1785              		.loc 1 178 52 is_stmt 0 view .LVU665
 1786 0240 7C4C     		ldr	r4, .L95
 1787 0242 D4ED6C7A 		vldr.32	s15, [r4, #432]
 178:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
 1788              		.loc 1 178 66 view .LVU666
 1789 0246 94ED6F7A 		vldr.32	s14, [r4, #444]
 178:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
 1790              		.loc 1 178 31 view .LVU667
 1791 024a D4F81831 		ldr	r3, [r4, #280]
 178:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
 1792              		.loc 1 178 56 view .LVU668
 1793 024e 67EE877A 		vmul.f32	s15, s15, s14
 178:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[7] = QEKF_INS.Q1 * QEKF_INS.dt;
 1794              		.loc 1 178 42 view .LVU669
 1795 0252 C3ED007A 		vstr.32	s15, [r3]
 179:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 1796              		.loc 1 179 5 is_stmt 1 view .LVU670
 179:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 1797              		.loc 1 179 52 is_stmt 0 view .LVU671
 1798 0256 D4ED6C7A 		vldr.32	s15, [r4, #432]
 179:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 1799              		.loc 1 179 66 view .LVU672
 1800 025a 94ED6F7A 		vldr.32	s14, [r4, #444]
 179:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 1801              		.loc 1 179 31 view .LVU673
 1802 025e D4F81831 		ldr	r3, [r4, #280]
 179:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 1803              		.loc 1 179 56 view .LVU674
 1804 0262 67EE877A 		vmul.f32	s15, s15, s14
 179:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[14] = QEKF_INS.Q1 * QEKF_INS.dt;
 1805              		.loc 1 179 42 view .LVU675
 1806 0266 C3ED077A 		vstr.32	s15, [r3, #28]
 180:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 1807              		.loc 1 180 5 is_stmt 1 view .LVU676
 180:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 1808              		.loc 1 180 53 is_stmt 0 view .LVU677
 1809 026a D4ED6C7A 		vldr.32	s15, [r4, #432]
 180:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 1810              		.loc 1 180 67 view .LVU678
 1811 026e 94ED6F7A 		vldr.32	s14, [r4, #444]
 180:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 1812              		.loc 1 180 31 view .LVU679
 1813 0272 D4F81831 		ldr	r3, [r4, #280]
 180:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 1814              		.loc 1 180 57 view .LVU680
 1815 0276 67EE877A 		vmul.f32	s15, s15, s14
 180:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[21] = QEKF_INS.Q1 * QEKF_INS.dt;
 1816              		.loc 1 180 43 view .LVU681
 1817 027a C3ED0E7A 		vstr.32	s15, [r3, #56]
 181:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
 1818              		.loc 1 181 5 is_stmt 1 view .LVU682
 181:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
 1819              		.loc 1 181 53 is_stmt 0 view .LVU683
 1820 027e D4ED6C7A 		vldr.32	s15, [r4, #432]
 181:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 53


 1821              		.loc 1 181 67 view .LVU684
 1822 0282 94ED6F7A 		vldr.32	s14, [r4, #444]
 181:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
 1823              		.loc 1 181 31 view .LVU685
 1824 0286 D4F81831 		ldr	r3, [r4, #280]
 181:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
 1825              		.loc 1 181 57 view .LVU686
 1826 028a 67EE877A 		vmul.f32	s15, s15, s14
 181:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[28] = QEKF_INS.Q2 * QEKF_INS.dt;
 1827              		.loc 1 181 43 view .LVU687
 1828 028e C3ED157A 		vstr.32	s15, [r3, #84]
 182:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
 1829              		.loc 1 182 5 is_stmt 1 view .LVU688
 182:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
 1830              		.loc 1 182 53 is_stmt 0 view .LVU689
 1831 0292 D4ED6D7A 		vldr.32	s15, [r4, #436]
 182:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
 1832              		.loc 1 182 67 view .LVU690
 1833 0296 94ED6F7A 		vldr.32	s14, [r4, #444]
 182:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
 1834              		.loc 1 182 31 view .LVU691
 1835 029a D4F81831 		ldr	r3, [r4, #280]
 182:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
 1836              		.loc 1 182 57 view .LVU692
 1837 029e 67EE877A 		vmul.f32	s15, s15, s14
 182:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.Q_data[35] = QEKF_INS.Q2 * QEKF_INS.dt;
 1838              		.loc 1 182 43 view .LVU693
 1839 02a2 C3ED1C7A 		vstr.32	s15, [r3, #112]
 183:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 1840              		.loc 1 183 5 is_stmt 1 view .LVU694
 183:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 1841              		.loc 1 183 53 is_stmt 0 view .LVU695
 1842 02a6 D4ED6D7A 		vldr.32	s15, [r4, #436]
 183:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 1843              		.loc 1 183 67 view .LVU696
 1844 02aa 94ED6F7A 		vldr.32	s14, [r4, #444]
 183:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 1845              		.loc 1 183 31 view .LVU697
 1846 02ae D4F81831 		ldr	r3, [r4, #280]
 183:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 1847              		.loc 1 183 57 view .LVU698
 1848 02b2 67EE877A 		vmul.f32	s15, s15, s14
 183:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[0] = QEKF_INS.R;
 1849              		.loc 1 183 43 view .LVU699
 1850 02b6 C3ED237A 		vstr.32	s15, [r3, #140]
 184:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[4] = QEKF_INS.R;
 1851              		.loc 1 184 5 is_stmt 1 view .LVU700
 184:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[4] = QEKF_INS.R;
 1852              		.loc 1 184 31 is_stmt 0 view .LVU701
 1853 02ba D4F81C21 		ldr	r2, [r4, #284]
 184:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[4] = QEKF_INS.R;
 1854              		.loc 1 184 52 view .LVU702
 1855 02be D4F8B831 		ldr	r3, [r4, #440]	@ float
 184:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[4] = QEKF_INS.R;
 1856              		.loc 1 184 42 view .LVU703
 1857 02c2 1360     		str	r3, [r2]	@ float
 185:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[8] = QEKF_INS.R;
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 54


 1858              		.loc 1 185 5 is_stmt 1 view .LVU704
 185:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[8] = QEKF_INS.R;
 1859              		.loc 1 185 31 is_stmt 0 view .LVU705
 1860 02c4 D4F81C21 		ldr	r2, [r4, #284]
 185:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.IMU_QuaternionEKF.R_data[8] = QEKF_INS.R;
 1861              		.loc 1 185 42 view .LVU706
 1862 02c8 1361     		str	r3, [r2, #16]	@ float
 186:modules/algorithm/QuaternionEKF.c **** 
 1863              		.loc 1 186 5 is_stmt 1 view .LVU707
 186:modules/algorithm/QuaternionEKF.c **** 
 1864              		.loc 1 186 31 is_stmt 0 view .LVU708
 1865 02ca D4F81C31 		ldr	r3, [r4, #284]
 186:modules/algorithm/QuaternionEKF.c **** 
 1866              		.loc 1 186 52 view .LVU709
 1867 02ce D4F8B821 		ldr	r2, [r4, #440]	@ float
 186:modules/algorithm/QuaternionEKF.c **** 
 1868              		.loc 1 186 42 view .LVU710
 1869 02d2 1A62     		str	r2, [r3, #32]	@ float
 189:modules/algorithm/QuaternionEKF.c **** 
 1870              		.loc 1 189 5 is_stmt 1 view .LVU711
 1871 02d4 201D     		adds	r0, r4, #4
 1872 02d6 FFF7FEFF 		bl	Kalman_Filter_Update
 1873              	.LVL90:
 192:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.q[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[1];
 1874              		.loc 1 192 5 view .LVU712
 192:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.q[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[1];
 1875              		.loc 1 192 47 is_stmt 0 view .LVU713
 1876 02da 6368     		ldr	r3, [r4, #4]
 192:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.q[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[1];
 1877              		.loc 1 192 61 view .LVU714
 1878 02dc D3ED000A 		vldr.32	s1, [r3]
 192:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.q[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[1];
 1879              		.loc 1 192 19 view .LVU715
 1880 02e0 C4ED540A 		vstr.32	s1, [r4, #336]
 193:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.q[2] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[2];
 1881              		.loc 1 193 5 is_stmt 1 view .LVU716
 193:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.q[2] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[2];
 1882              		.loc 1 193 19 is_stmt 0 view .LVU717
 1883 02e4 D3ED017A 		vldr.32	s15, [r3, #4]
 1884 02e8 C4ED557A 		vstr.32	s15, [r4, #340]
 194:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.q[3] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[3];
 1885              		.loc 1 194 5 is_stmt 1 view .LVU718
 194:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.q[3] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[3];
 1886              		.loc 1 194 19 is_stmt 0 view .LVU719
 1887 02ec 93ED027A 		vldr.32	s14, [r3, #8]
 1888 02f0 84ED567A 		vstr.32	s14, [r4, #344]
 195:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[0] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[4];
 1889              		.loc 1 195 5 is_stmt 1 view .LVU720
 195:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[0] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[4];
 1890              		.loc 1 195 19 is_stmt 0 view .LVU721
 1891 02f4 93ED030A 		vldr.32	s0, [r3, #12]
 1892 02f8 84ED570A 		vstr.32	s0, [r4, #348]
 196:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[5];
 1893              		.loc 1 196 5 is_stmt 1 view .LVU722
 196:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[1] = QEKF_INS.IMU_QuaternionEKF.FilteredValue[5];
 1894              		.loc 1 196 26 is_stmt 0 view .LVU723
 1895 02fc 1A69     		ldr	r2, [r3, #16]	@ float
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 55


 1896 02fe C4F86021 		str	r2, [r4, #352]	@ float
 197:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[2] = 0; // Â§ßÈÉ®ÂàÜÊó∂ÂÄôzËΩ¥ÈÄöÂ§©,Êó†Ê≥ïËßÇÊµãyawÁöÑÊºÇÁßª
 1897              		.loc 1 197 5 is_stmt 1 view .LVU724
 197:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.GyroBias[2] = 0; // Â§ßÈÉ®ÂàÜÊó∂ÂÄôzËΩ¥ÈÄöÂ§©,Êó†Ê≥ïËßÇÊµãyawÁöÑÊºÇÁßª
 1898              		.loc 1 197 26 is_stmt 0 view .LVU725
 1899 0302 5B69     		ldr	r3, [r3, #20]	@ float
 1900 0304 C4F86431 		str	r3, [r4, #356]	@ float
 198:modules/algorithm/QuaternionEKF.c **** 
 1901              		.loc 1 198 5 is_stmt 1 view .LVU726
 198:modules/algorithm/QuaternionEKF.c **** 
 1902              		.loc 1 198 26 is_stmt 0 view .LVU727
 1903 0308 0023     		movs	r3, #0
 1904 030a C4F86831 		str	r3, [r4, #360]	@ float
 201:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1905              		.loc 1 201 5 is_stmt 1 view .LVU728
 201:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1906              		.loc 1 201 49 is_stmt 0 view .LVU729
 1907 030e 20EE800A 		vmul.f32	s0, s1, s0
 201:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1908              		.loc 1 201 81 view .LVU730
 1909 0312 27EE877A 		vmul.f32	s14, s15, s14
 201:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1910              		.loc 1 201 65 view .LVU731
 1911 0316 30EE070A 		vadd.f32	s0, s0, s14
 201:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1912              		.loc 1 201 121 view .LVU732
 1913 031a 60EEA00A 		vmul.f32	s1, s1, s1
 201:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1914              		.loc 1 201 153 view .LVU733
 1915 031e 67EEA77A 		vmul.f32	s15, s15, s15
 201:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1916              		.loc 1 201 137 view .LVU734
 1917 0322 70EEA70A 		vadd.f32	s1, s1, s15
 201:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1918              		.loc 1 201 104 view .LVU735
 1919 0326 70EEA00A 		vadd.f32	s1, s1, s1
 201:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1920              		.loc 1 201 20 view .LVU736
 1921 032a F7EE008A 		vmov.f32	s17, #1.0e+0
 1922 032e 70EEE80A 		vsub.f32	s1, s1, s17
 1923 0332 30EE000A 		vadd.f32	s0, s0, s0
 1924 0336 FFF7FEFF 		bl	atan2f
 1925              	.LVL91:
 201:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1926              		.loc 1 201 178 view .LVU737
 1927 033a 9FED3F8A 		vldr.32	s16, .L95+4
 1928 033e 20EE080A 		vmul.f32	s0, s0, s16
 201:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Pitch = atan2f(2.0f * (QEKF_INS.q[0] * QEKF_INS.q[1] + QEKF_INS.q[2] * QEKF_INS.q[3]),
 1929              		.loc 1 201 18 view .LVU738
 1930 0342 84ED6A0A 		vstr.32	s0, [r4, #424]
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1931              		.loc 1 202 5 is_stmt 1 view .LVU739
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1932              		.loc 1 202 47 is_stmt 0 view .LVU740
 1933 0346 D4ED540A 		vldr.32	s1, [r4, #336]
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1934              		.loc 1 202 63 view .LVU741
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 56


 1935 034a 94ED550A 		vldr.32	s0, [r4, #340]
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1936              		.loc 1 202 51 view .LVU742
 1937 034e 20EE800A 		vmul.f32	s0, s1, s0
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1938              		.loc 1 202 79 view .LVU743
 1939 0352 94ED567A 		vldr.32	s14, [r4, #344]
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1940              		.loc 1 202 95 view .LVU744
 1941 0356 D4ED577A 		vldr.32	s15, [r4, #348]
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1942              		.loc 1 202 83 view .LVU745
 1943 035a 27EE277A 		vmul.f32	s14, s14, s15
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1944              		.loc 1 202 67 view .LVU746
 1945 035e 30EE070A 		vadd.f32	s0, s0, s14
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1946              		.loc 1 202 123 view .LVU747
 1947 0362 60EEA00A 		vmul.f32	s1, s1, s1
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1948              		.loc 1 202 155 view .LVU748
 1949 0366 67EEA77A 		vmul.f32	s15, s15, s15
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1950              		.loc 1 202 139 view .LVU749
 1951 036a 70EEA70A 		vadd.f32	s1, s1, s15
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1952              		.loc 1 202 106 view .LVU750
 1953 036e 70EEA00A 		vadd.f32	s1, s1, s1
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1954              		.loc 1 202 22 view .LVU751
 1955 0372 70EEE80A 		vsub.f32	s1, s1, s17
 1956 0376 30EE000A 		vadd.f32	s0, s0, s0
 1957 037a FFF7FEFF 		bl	atan2f
 1958              	.LVL92:
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1959              		.loc 1 202 180 view .LVU752
 1960 037e 20EE080A 		vmul.f32	s0, s0, s16
 202:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.Roll = asinf(-2.0f * (QEKF_INS.q[1] * QEKF_INS.q[3] - QEKF_INS.q[0] * QEKF_INS.q[2])) 
 1961              		.loc 1 202 20 view .LVU753
 1962 0382 84ED690A 		vstr.32	s0, [r4, #420]
 203:modules/algorithm/QuaternionEKF.c **** 
 1963              		.loc 1 203 5 is_stmt 1 view .LVU754
 203:modules/algorithm/QuaternionEKF.c **** 
 1964              		.loc 1 203 46 is_stmt 0 view .LVU755
 1965 0386 D4ED557A 		vldr.32	s15, [r4, #340]
 203:modules/algorithm/QuaternionEKF.c **** 
 1966              		.loc 1 203 62 view .LVU756
 1967 038a 94ED570A 		vldr.32	s0, [r4, #348]
 203:modules/algorithm/QuaternionEKF.c **** 
 1968              		.loc 1 203 50 view .LVU757
 1969 038e 67EE807A 		vmul.f32	s15, s15, s0
 203:modules/algorithm/QuaternionEKF.c **** 
 1970              		.loc 1 203 78 view .LVU758
 1971 0392 94ED540A 		vldr.32	s0, [r4, #336]
 203:modules/algorithm/QuaternionEKF.c **** 
 1972              		.loc 1 203 94 view .LVU759
 1973 0396 94ED567A 		vldr.32	s14, [r4, #344]
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 57


 203:modules/algorithm/QuaternionEKF.c **** 
 1974              		.loc 1 203 82 view .LVU760
 1975 039a 20EE070A 		vmul.f32	s0, s0, s14
 203:modules/algorithm/QuaternionEKF.c **** 
 1976              		.loc 1 203 66 view .LVU761
 1977 039e 77EEC07A 		vsub.f32	s15, s15, s0
 203:modules/algorithm/QuaternionEKF.c **** 
 1978              		.loc 1 203 21 view .LVU762
 1979 03a2 B8EE000A 		vmov.f32	s0, #-2.0e+0
 1980 03a6 27EE800A 		vmul.f32	s0, s15, s0
 1981 03aa FFF7FEFF 		bl	asinf
 1982              	.LVL93:
 203:modules/algorithm/QuaternionEKF.c **** 
 1983              		.loc 1 203 100 view .LVU763
 1984 03ae 20EE080A 		vmul.f32	s0, s0, s16
 203:modules/algorithm/QuaternionEKF.c **** 
 1985              		.loc 1 203 19 view .LVU764
 1986 03b2 84ED680A 		vstr.32	s0, [r4, #416]
 206:modules/algorithm/QuaternionEKF.c ****     {
 1987              		.loc 1 206 5 is_stmt 1 view .LVU765
 206:modules/algorithm/QuaternionEKF.c ****     {
 1988              		.loc 1 206 17 is_stmt 0 view .LVU766
 1989 03b6 94ED6A7A 		vldr.32	s14, [r4, #424]
 206:modules/algorithm/QuaternionEKF.c ****     {
 1990              		.loc 1 206 32 view .LVU767
 1991 03ba D4ED767A 		vldr.32	s15, [r4, #472]
 206:modules/algorithm/QuaternionEKF.c ****     {
 1992              		.loc 1 206 22 view .LVU768
 1993 03be 77EE677A 		vsub.f32	s15, s14, s15
 206:modules/algorithm/QuaternionEKF.c ****     {
 1994              		.loc 1 206 8 view .LVU769
 1995 03c2 DFED1E6A 		vldr.32	s13, .L95+8
 1996 03c6 F4EEE67A 		vcmpe.f32	s15, s13
 1997 03ca F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1998 03ce 23DD     		ble	.L91
 208:modules/algorithm/QuaternionEKF.c ****     }
 1999              		.loc 1 208 9 is_stmt 1 view .LVU770
 208:modules/algorithm/QuaternionEKF.c ****     }
 2000              		.loc 1 208 17 is_stmt 0 view .LVU771
 2001 03d0 B4F9D431 		ldrsh	r3, [r4, #468]
 208:modules/algorithm/QuaternionEKF.c ****     }
 2002              		.loc 1 208 31 view .LVU772
 2003 03d4 013B     		subs	r3, r3, #1
 2004 03d6 A4F8D431 		strh	r3, [r4, #468]	@ movhi
 2005              	.L84:
 214:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.YawAngleLast = QEKF_INS.Yaw;
 2006              		.loc 1 214 5 is_stmt 1 view .LVU773
 214:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.YawAngleLast = QEKF_INS.Yaw;
 2007              		.loc 1 214 47 is_stmt 0 view .LVU774
 2008 03da 164B     		ldr	r3, .L95
 2009 03dc B3F9D421 		ldrsh	r2, [r3, #468]
 2010 03e0 07EE902A 		vmov	s15, r2	@ int
 214:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.YawAngleLast = QEKF_INS.Yaw;
 2011              		.loc 1 214 37 view .LVU775
 2012 03e4 F8EEE77A 		vcvt.f32.s32	s15, s15
 2013 03e8 DFED156A 		vldr.32	s13, .L95+12
 2014 03ec 67EEA67A 		vmul.f32	s15, s15, s13
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 58


 214:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.YawAngleLast = QEKF_INS.Yaw;
 2015              		.loc 1 214 62 view .LVU776
 2016 03f0 77EE277A 		vadd.f32	s15, s14, s15
 214:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.YawAngleLast = QEKF_INS.Yaw;
 2017              		.loc 1 214 28 view .LVU777
 2018 03f4 C3ED6B7A 		vstr.32	s15, [r3, #428]
 215:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount++; // ÂàùÂßãÂåñ‰ΩéÈÄöÊª§Ê≥¢Áî®,ËÆ°Êï∞ÊµãËØïÁî®
 2019              		.loc 1 215 5 is_stmt 1 view .LVU778
 215:modules/algorithm/QuaternionEKF.c ****     QEKF_INS.UpdateCount++; // ÂàùÂßãÂåñ‰ΩéÈÄöÊª§Ê≥¢Áî®,ËÆ°Êï∞ÊµãËØïÁî®
 2020              		.loc 1 215 27 is_stmt 0 view .LVU779
 2021 03f8 83ED767A 		vstr.32	s14, [r3, #472]
 216:modules/algorithm/QuaternionEKF.c **** }
 2022              		.loc 1 216 5 is_stmt 1 view .LVU780
 216:modules/algorithm/QuaternionEKF.c **** }
 2023              		.loc 1 216 13 is_stmt 0 view .LVU781
 2024 03fc D3F84821 		ldr	r2, [r3, #328]
 2025 0400 D3F84C11 		ldr	r1, [r3, #332]
 216:modules/algorithm/QuaternionEKF.c **** }
 2026              		.loc 1 216 25 view .LVU782
 2027 0404 0132     		adds	r2, r2, #1
 2028 0406 41F10001 		adc	r1, r1, #0
 2029 040a C3F84821 		str	r2, [r3, #328]
 2030 040e C3F84C11 		str	r1, [r3, #332]
 217:modules/algorithm/QuaternionEKF.c **** 
 2031              		.loc 1 217 1 view .LVU783
 2032 0412 BDEC068B 		vldm	sp!, {d8-d10}
 2033              	.LCFI11:
 2034              		.cfi_remember_state
 2035              		.cfi_restore 84
 2036              		.cfi_restore 85
 2037              		.cfi_restore 82
 2038              		.cfi_restore 83
 2039              		.cfi_restore 80
 2040              		.cfi_restore 81
 2041              		.cfi_def_cfa_offset 8
 2042 0416 10BD     		pop	{r4, pc}
 2043              	.L91:
 2044              	.LCFI12:
 2045              		.cfi_restore_state
 210:modules/algorithm/QuaternionEKF.c ****     {
 2046              		.loc 1 210 10 is_stmt 1 view .LVU784
 210:modules/algorithm/QuaternionEKF.c ****     {
 2047              		.loc 1 210 13 is_stmt 0 view .LVU785
 2048 0418 DFED0A6A 		vldr.32	s13, .L95+16
 2049 041c F4EEE67A 		vcmpe.f32	s15, s13
 2050 0420 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2051 0424 D9D5     		bpl	.L84
 212:modules/algorithm/QuaternionEKF.c ****     }
 2052              		.loc 1 212 9 is_stmt 1 view .LVU786
 212:modules/algorithm/QuaternionEKF.c ****     }
 2053              		.loc 1 212 17 is_stmt 0 view .LVU787
 2054 0426 034A     		ldr	r2, .L95
 2055 0428 B2F9D431 		ldrsh	r3, [r2, #468]
 212:modules/algorithm/QuaternionEKF.c ****     }
 2056              		.loc 1 212 31 view .LVU788
 2057 042c 0133     		adds	r3, r3, #1
 2058 042e A2F8D431 		strh	r3, [r2, #468]	@ movhi
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 59


 2059 0432 D2E7     		b	.L84
 2060              	.L96:
 2061              		.align	2
 2062              	.L95:
 2063 0434 00000000 		.word	.LANCHOR5
 2064 0438 E12E6542 		.word	1113927393
 2065 043c 00003443 		.word	1127481344
 2066 0440 0000B443 		.word	1135869952
 2067 0444 000034C3 		.word	-1020002304
 2068              		.cfi_endproc
 2069              	.LFE164:
 2071              		.global	IMU_QuaternionEKF_H
 2072              		.global	IMU_QuaternionEKF_K
 2073              		.global	IMU_QuaternionEKF_P
 2074              		.global	IMU_QuaternionEKF_F
 2075              		.global	QEKF_INS
 2076              		.section	.bss.IMU_QuaternionEKF_H,"aw",%nobits
 2077              		.align	2
 2078              		.set	.LANCHOR8,. + 0
 2081              	IMU_QuaternionEKF_H:
 2082 0000 00000000 		.space	72
 2082      00000000 
 2082      00000000 
 2082      00000000 
 2082      00000000 
 2083              		.section	.bss.IMU_QuaternionEKF_K,"aw",%nobits
 2084              		.align	2
 2085              		.set	.LANCHOR7,. + 0
 2088              	IMU_QuaternionEKF_K:
 2089 0000 00000000 		.space	72
 2089      00000000 
 2089      00000000 
 2089      00000000 
 2089      00000000 
 2090              		.section	.bss.QEKF_INS,"aw",%nobits
 2091              		.align	3
 2092              		.set	.LANCHOR5,. + 0
 2095              	QEKF_INS:
 2096 0000 00000000 		.space	480
 2096      00000000 
 2096      00000000 
 2096      00000000 
 2096      00000000 
 2097              		.section	.bss.accelInvNorm.0,"aw",%nobits
 2098              		.align	2
 2099              		.set	.LANCHOR21,. + 0
 2102              	accelInvNorm.0:
 2103 0000 00000000 		.space	4
 2104              		.section	.bss.doubleq0.12,"aw",%nobits
 2105              		.align	2
 2106              		.set	.LANCHOR13,. + 0
 2109              	doubleq0.12:
 2110 0000 00000000 		.space	4
 2111              		.section	.bss.doubleq1.11,"aw",%nobits
 2112              		.align	2
 2113              		.set	.LANCHOR14,. + 0
 2116              	doubleq1.11:
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 60


 2117 0000 00000000 		.space	4
 2118              		.section	.bss.doubleq2.10,"aw",%nobits
 2119              		.align	2
 2120              		.set	.LANCHOR15,. + 0
 2123              	doubleq2.10:
 2124 0000 00000000 		.space	4
 2125              		.section	.bss.doubleq3.9,"aw",%nobits
 2126              		.align	2
 2127              		.set	.LANCHOR16,. + 0
 2130              	doubleq3.9:
 2131 0000 00000000 		.space	4
 2132              		.section	.bss.halfgxdt.3,"aw",%nobits
 2133              		.align	2
 2134              		.set	.LANCHOR18,. + 0
 2137              	halfgxdt.3:
 2138 0000 00000000 		.space	4
 2139              		.section	.bss.halfgydt.2,"aw",%nobits
 2140              		.align	2
 2141              		.set	.LANCHOR19,. + 0
 2144              	halfgydt.2:
 2145 0000 00000000 		.space	4
 2146              		.section	.bss.halfgzdt.1,"aw",%nobits
 2147              		.align	2
 2148              		.set	.LANCHOR20,. + 0
 2151              	halfgzdt.1:
 2152 0000 00000000 		.space	4
 2153              		.section	.bss.q0.16,"aw",%nobits
 2154              		.align	2
 2155              		.set	.LANCHOR9,. + 0
 2158              	q0.16:
 2159 0000 00000000 		.space	4
 2160              		.section	.bss.q0.8,"aw",%nobits
 2161              		.align	2
 2162              		.set	.LANCHOR0,. + 0
 2165              	q0.8:
 2166 0000 00000000 		.space	4
 2167              		.section	.bss.q1.15,"aw",%nobits
 2168              		.align	2
 2169              		.set	.LANCHOR10,. + 0
 2172              	q1.15:
 2173 0000 00000000 		.space	4
 2174              		.section	.bss.q1.7,"aw",%nobits
 2175              		.align	2
 2176              		.set	.LANCHOR1,. + 0
 2179              	q1.7:
 2180 0000 00000000 		.space	4
 2181              		.section	.bss.q2.14,"aw",%nobits
 2182              		.align	2
 2183              		.set	.LANCHOR11,. + 0
 2186              	q2.14:
 2187 0000 00000000 		.space	4
 2188              		.section	.bss.q2.6,"aw",%nobits
 2189              		.align	2
 2190              		.set	.LANCHOR2,. + 0
 2193              	q2.6:
 2194 0000 00000000 		.space	4
 2195              		.section	.bss.q3.13,"aw",%nobits
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 61


 2196              		.align	2
 2197              		.set	.LANCHOR12,. + 0
 2200              	q3.13:
 2201 0000 00000000 		.space	4
 2202              		.section	.bss.q3.5,"aw",%nobits
 2203              		.align	2
 2204              		.set	.LANCHOR3,. + 0
 2207              	q3.5:
 2208 0000 00000000 		.space	4
 2209              		.section	.bss.qInvNorm.4,"aw",%nobits
 2210              		.align	2
 2211              		.set	.LANCHOR4,. + 0
 2214              	qInvNorm.4:
 2215 0000 00000000 		.space	4
 2216              		.section	.data.IMU_QuaternionEKF_P,"aw"
 2217              		.align	2
 2218              		.set	.LANCHOR6,. + 0
 2221              	IMU_QuaternionEKF_P:
 2222 0000 0050C347 		.word	1203982336
 2223 0004 CDCCCC3D 		.word	1036831949
 2224 0008 CDCCCC3D 		.word	1036831949
 2225 000c CDCCCC3D 		.word	1036831949
 2226 0010 CDCCCC3D 		.word	1036831949
 2227 0014 CDCCCC3D 		.word	1036831949
 2228 0018 CDCCCC3D 		.word	1036831949
 2229 001c 0050C347 		.word	1203982336
 2230 0020 CDCCCC3D 		.word	1036831949
 2231 0024 CDCCCC3D 		.word	1036831949
 2232 0028 CDCCCC3D 		.word	1036831949
 2233 002c CDCCCC3D 		.word	1036831949
 2234 0030 CDCCCC3D 		.word	1036831949
 2235 0034 CDCCCC3D 		.word	1036831949
 2236 0038 0050C347 		.word	1203982336
 2237 003c CDCCCC3D 		.word	1036831949
 2238 0040 CDCCCC3D 		.word	1036831949
 2239 0044 CDCCCC3D 		.word	1036831949
 2240 0048 CDCCCC3D 		.word	1036831949
 2241 004c CDCCCC3D 		.word	1036831949
 2242 0050 CDCCCC3D 		.word	1036831949
 2243 0054 0050C347 		.word	1203982336
 2244 0058 CDCCCC3D 		.word	1036831949
 2245 005c CDCCCC3D 		.word	1036831949
 2246 0060 CDCCCC3D 		.word	1036831949
 2247 0064 CDCCCC3D 		.word	1036831949
 2248 0068 CDCCCC3D 		.word	1036831949
 2249 006c CDCCCC3D 		.word	1036831949
 2250 0070 0000C842 		.word	1120403456
 2251 0074 CDCCCC3D 		.word	1036831949
 2252 0078 CDCCCC3D 		.word	1036831949
 2253 007c CDCCCC3D 		.word	1036831949
 2254 0080 CDCCCC3D 		.word	1036831949
 2255 0084 CDCCCC3D 		.word	1036831949
 2256 0088 CDCCCC3D 		.word	1036831949
 2257 008c 0000C842 		.word	1120403456
 2258              		.section	.rodata.IMU_QuaternionEKF_F,"a"
 2259              		.align	2
 2260              		.set	.LANCHOR17,. + 0
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 62


 2263              	IMU_QuaternionEKF_F:
 2264 0000 0000803F 		.word	1065353216
 2265 0004 00000000 		.word	0
 2266 0008 00000000 		.word	0
 2267 000c 00000000 		.word	0
 2268 0010 00000000 		.word	0
 2269 0014 00000000 		.word	0
 2270 0018 00000000 		.word	0
 2271 001c 0000803F 		.word	1065353216
 2272 0020 00000000 		.word	0
 2273 0024 00000000 		.word	0
 2274 0028 00000000 		.word	0
 2275 002c 00000000 		.word	0
 2276 0030 00000000 		.word	0
 2277 0034 00000000 		.word	0
 2278 0038 0000803F 		.word	1065353216
 2279 003c 00000000 		.word	0
 2280 0040 00000000 		.word	0
 2281 0044 00000000 		.word	0
 2282 0048 00000000 		.word	0
 2283 004c 00000000 		.word	0
 2284 0050 00000000 		.word	0
 2285 0054 0000803F 		.word	1065353216
 2286 0058 00000000 		.word	0
 2287 005c 00000000 		.word	0
 2288 0060 00000000 		.word	0
 2289 0064 00000000 		.word	0
 2290 0068 00000000 		.word	0
 2291 006c 00000000 		.word	0
 2292 0070 0000803F 		.word	1065353216
 2293 0074 00000000 		.word	0
 2294 0078 00000000 		.word	0
 2295 007c 00000000 		.word	0
 2296 0080 00000000 		.word	0
 2297 0084 00000000 		.word	0
 2298 0088 00000000 		.word	0
 2299 008c 0000803F 		.word	1065353216
 2300              		.text
 2301              	.Letext0:
 2302              		.file 2 "c:\\installsoftware\\arm-gnu-toolchian\\arm-none-eabi\\include\\machine\\_default_types.h
 2303              		.file 3 "c:\\installsoftware\\arm-gnu-toolchian\\arm-none-eabi\\include\\sys\\_stdint.h"
 2304              		.file 4 "Middlewares/ST/ARM/DSP/Include/arm_math_types.h"
 2305              		.file 5 "Middlewares/ST/ARM/DSP/Include/dsp/matrix_functions.h"
 2306              		.file 6 "modules/algorithm/kalman_filter.h"
 2307              		.file 7 "modules/algorithm/QuaternionEKF.h"
 2308              		.file 8 "c:\\installsoftware\\arm-gnu-toolchian\\arm-none-eabi\\include\\math.h"
 2309              		.file 9 "<built-in>"
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 63


DEFINED SYMBOLS
                            *ABS*:00000000 QuaternionEKF.c
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:20     .text.invSqrt:00000000 $t
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:25     .text.invSqrt:00000000 invSqrt
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:72     .text.invSqrt:0000002c $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:77     .text.IMU_QuaternionEKF_F_Linearization_P_Fading:00000000 $t
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:82     .text.IMU_QuaternionEKF_F_Linearization_P_Fading:00000000 IMU_QuaternionEKF_F_Linearization_P_Fading
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:330    .text.IMU_QuaternionEKF_F_Linearization_P_Fading:00000184 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:341    .text.IMU_QuaternionEKF_Observe:00000000 $t
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:346    .text.IMU_QuaternionEKF_Observe:00000000 IMU_QuaternionEKF_Observe
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:390    .text.IMU_QuaternionEKF_Observe:0000002c $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:397    .text.IMU_QuaternionEKF_xhatUpdate:00000000 $t
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:402    .text.IMU_QuaternionEKF_xhatUpdate:00000000 IMU_QuaternionEKF_xhatUpdate
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:1012   .text.IMU_QuaternionEKF_xhatUpdate:000003ac $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:1025   .text.IMU_QuaternionEKF_xhatUpdate:000003d0 $t
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:1084   .text.IMU_QuaternionEKF_xhatUpdate:00000430 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:1092   .text.IMU_QuaternionEKF_SetH:00000000 $t
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:1097   .text.IMU_QuaternionEKF_SetH:00000000 IMU_QuaternionEKF_SetH
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:1250   .text.IMU_QuaternionEKF_SetH:000000d0 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:1259   .text.IMU_QuaternionEKF_Init:00000000 $t
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:1265   .text.IMU_QuaternionEKF_Init:00000000 IMU_QuaternionEKF_Init
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:1420   .text.IMU_QuaternionEKF_Init:000000c4 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:1432   .text.IMU_QuaternionEKF_Update:00000000 $t
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:1438   .text.IMU_QuaternionEKF_Update:00000000 IMU_QuaternionEKF_Update
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:1768   .text.IMU_QuaternionEKF_Update:00000214 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:1780   .text.IMU_QuaternionEKF_Update:00000238 $t
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2063   .text.IMU_QuaternionEKF_Update:00000434 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2081   .bss.IMU_QuaternionEKF_H:00000000 IMU_QuaternionEKF_H
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2088   .bss.IMU_QuaternionEKF_K:00000000 IMU_QuaternionEKF_K
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2221   .data.IMU_QuaternionEKF_P:00000000 IMU_QuaternionEKF_P
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2263   .rodata.IMU_QuaternionEKF_F:00000000 IMU_QuaternionEKF_F
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2095   .bss.QEKF_INS:00000000 QEKF_INS
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2077   .bss.IMU_QuaternionEKF_H:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2084   .bss.IMU_QuaternionEKF_K:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2091   .bss.QEKF_INS:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2098   .bss.accelInvNorm.0:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2102   .bss.accelInvNorm.0:00000000 accelInvNorm.0
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2105   .bss.doubleq0.12:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2109   .bss.doubleq0.12:00000000 doubleq0.12
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2112   .bss.doubleq1.11:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2116   .bss.doubleq1.11:00000000 doubleq1.11
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2119   .bss.doubleq2.10:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2123   .bss.doubleq2.10:00000000 doubleq2.10
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2126   .bss.doubleq3.9:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2130   .bss.doubleq3.9:00000000 doubleq3.9
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2133   .bss.halfgxdt.3:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2137   .bss.halfgxdt.3:00000000 halfgxdt.3
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2140   .bss.halfgydt.2:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2144   .bss.halfgydt.2:00000000 halfgydt.2
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2147   .bss.halfgzdt.1:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2151   .bss.halfgzdt.1:00000000 halfgzdt.1
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2154   .bss.q0.16:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2158   .bss.q0.16:00000000 q0.16
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2161   .bss.q0.8:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2165   .bss.q0.8:00000000 q0.8
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2168   .bss.q1.15:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2172   .bss.q1.15:00000000 q1.15
ARM GAS  C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s 			page 64


C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2175   .bss.q1.7:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2179   .bss.q1.7:00000000 q1.7
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2182   .bss.q2.14:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2186   .bss.q2.14:00000000 q2.14
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2189   .bss.q2.6:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2193   .bss.q2.6:00000000 q2.6
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2196   .bss.q3.13:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2200   .bss.q3.13:00000000 q3.13
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2203   .bss.q3.5:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2207   .bss.q3.5:00000000 q3.5
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2210   .bss.qInvNorm.4:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2214   .bss.qInvNorm.4:00000000 qInvNorm.4
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2217   .data.IMU_QuaternionEKF_P:00000000 $d
C:\Users\z0147233\AppData\Local\Temp\ccVqafiE.s:2259   .rodata.IMU_QuaternionEKF_F:00000000 $d

UNDEFINED SYMBOLS
memcpy
arm_mat_trans_f32
arm_mat_mult_f32
arm_mat_add_f32
arm_mat_inverse_f32
acosf
arm_mat_sub_f32
sizeof_float
memset
Kalman_Filter_Init
arm_mat_init_f32
Kalman_Filter_Update
atan2f
asinf
